<app-common-task></app-common-task>
<form [formGroup]="formGroup">
    <div class="p-grid">
        <div class="p-col-6">
            format:
        </div>
        <div class="p-col-6">
            <p-selectButton [options]="formats" formControlName="format"></p-selectButton>
        </div>
    </div>
    <div class="p-grid" *ngIf="task?.format === LoadTaskFormat.PLAIN">
        <div class="p-col-6">
            inputKey:
        </div>
        <div class="p-col-6">
            <input type="text" pInputText formControlName="plainKey" placeholder="input"/>
        </div>
    </div>
    <div class="p-grid" *ngIf="task?.format === LoadTaskFormat.CSV">
        <div class="p-col-12">
            <app-load-task-fields formControlName="fields"></app-load-task-fields>
        </div>
    </div>
    <div class="p-grid">
        <div class="p-col-12">
            <p-fileUpload [files]="files"
                          [multiple]="true"
                          [customUpload]="true"
                          class="app-fileupload"
                          (onClear)="onFilesCleared()"
                          (onSelect)="onFilesSelected($event)"
                          [showUploadButton]="false"></p-fileUpload>
        </div>
    </div>
</form>