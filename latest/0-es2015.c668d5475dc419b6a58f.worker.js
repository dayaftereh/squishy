!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,(function(e){return t[e]}).bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s="6+kN")}({"1KK4":function(t,e){e.entityMap={lt:"<",gt:">",amp:"&",quot:'"',apos:"'",Agrave:"\xc0",Aacute:"\xc1",Acirc:"\xc2",Atilde:"\xc3",Auml:"\xc4",auml:"\xe4",Aring:"\xc5",aring:"\xe5",AElig:"\xc6",Ccedil:"\xc7",Egrave:"\xc8",Eacute:"\xc9",Ecirc:"\xca",Euml:"\xcb",Igrave:"\xcc",Iacute:"\xcd",Icirc:"\xce",Iuml:"\xcf",ETH:"\xd0",Ntilde:"\xd1",Ograve:"\xd2",Oacute:"\xd3",Ocirc:"\xd4",Otilde:"\xd5",Ouml:"\xd6",ouml:"\xf6",Oslash:"\xd8",Ugrave:"\xd9",Uacute:"\xda",Ucirc:"\xdb",Uuml:"\xdc",Yacute:"\xdd",THORN:"\xde",szlig:"\xdf",agrave:"\xe0",aacute:"\xe1",acirc:"\xe2",atilde:"\xe3",auml:"\xe4",aring:"\xe5",aelig:"\xe6",ccedil:"\xe7",egrave:"\xe8",eacute:"\xe9",ecirc:"\xea",euml:"\xeb",igrave:"\xec",iacute:"\xed",icirc:"\xee",iuml:"\xef",eth:"\xf0",ntilde:"\xf1",ograve:"\xf2",oacute:"\xf3",ocirc:"\xf4",otilde:"\xf5",ouml:"\xf6",oslash:"\xf8",ugrave:"\xf9",uacute:"\xfa",ucirc:"\xfb",uuml:"\xfc",yacute:"\xfd",thorn:"\xfe",yuml:"\xff",nbsp:" ",iexcl:"\xa1",cent:"\xa2",pound:"\xa3",curren:"\xa4",yen:"\xa5",brvbar:"\xa6",sect:"\xa7",uml:"\xa8",copy:"\xa9",ordf:"\xaa",laquo:"\xab",not:"\xac",shy:"\xad\xad",reg:"\xae",macr:"\xaf",deg:"\xb0",plusmn:"\xb1",sup2:"\xb2",sup3:"\xb3",acute:"\xb4",micro:"\xb5",para:"\xb6",middot:"\xb7",cedil:"\xb8",sup1:"\xb9",ordm:"\xba",raquo:"\xbb",frac14:"\xbc",frac12:"\xbd",frac34:"\xbe",iquest:"\xbf",times:"\xd7",divide:"\xf7",forall:"\u2200",part:"\u2202",exist:"\u2203",empty:"\u2205",nabla:"\u2207",isin:"\u2208",notin:"\u2209",ni:"\u220b",prod:"\u220f",sum:"\u2211",minus:"\u2212",lowast:"\u2217",radic:"\u221a",prop:"\u221d",infin:"\u221e",ang:"\u2220",and:"\u2227",or:"\u2228",cap:"\u2229",cup:"\u222a",int:"\u222b",there4:"\u2234",sim:"\u223c",cong:"\u2245",asymp:"\u2248",ne:"\u2260",equiv:"\u2261",le:"\u2264",ge:"\u2265",sub:"\u2282",sup:"\u2283",nsub:"\u2284",sube:"\u2286",supe:"\u2287",oplus:"\u2295",otimes:"\u2297",perp:"\u22a5",sdot:"\u22c5",Alpha:"\u0391",Beta:"\u0392",Gamma:"\u0393",Delta:"\u0394",Epsilon:"\u0395",Zeta:"\u0396",Eta:"\u0397",Theta:"\u0398",Iota:"\u0399",Kappa:"\u039a",Lambda:"\u039b",Mu:"\u039c",Nu:"\u039d",Xi:"\u039e",Omicron:"\u039f",Pi:"\u03a0",Rho:"\u03a1",Sigma:"\u03a3",Tau:"\u03a4",Upsilon:"\u03a5",Phi:"\u03a6",Chi:"\u03a7",Psi:"\u03a8",Omega:"\u03a9",alpha:"\u03b1",beta:"\u03b2",gamma:"\u03b3",delta:"\u03b4",epsilon:"\u03b5",zeta:"\u03b6",eta:"\u03b7",theta:"\u03b8",iota:"\u03b9",kappa:"\u03ba",lambda:"\u03bb",mu:"\u03bc",nu:"\u03bd",xi:"\u03be",omicron:"\u03bf",pi:"\u03c0",rho:"\u03c1",sigmaf:"\u03c2",sigma:"\u03c3",tau:"\u03c4",upsilon:"\u03c5",phi:"\u03c6",chi:"\u03c7",psi:"\u03c8",omega:"\u03c9",thetasym:"\u03d1",upsih:"\u03d2",piv:"\u03d6",OElig:"\u0152",oelig:"\u0153",Scaron:"\u0160",scaron:"\u0161",Yuml:"\u0178",fnof:"\u0192",circ:"\u02c6",tilde:"\u02dc",ensp:"\u2002",emsp:"\u2003",thinsp:"\u2009",zwnj:"\u200c",zwj:"\u200d",lrm:"\u200e",rlm:"\u200f",ndash:"\u2013",mdash:"\u2014",lsquo:"\u2018",rsquo:"\u2019",sbquo:"\u201a",ldquo:"\u201c",rdquo:"\u201d",bdquo:"\u201e",dagger:"\u2020",Dagger:"\u2021",bull:"\u2022",hellip:"\u2026",permil:"\u2030",prime:"\u2032",Prime:"\u2033",lsaquo:"\u2039",rsaquo:"\u203a",oline:"\u203e",euro:"\u20ac",trade:"\u2122",larr:"\u2190",uarr:"\u2191",rarr:"\u2192",darr:"\u2193",harr:"\u2194",crarr:"\u21b5",lceil:"\u2308",rceil:"\u2309",lfloor:"\u230a",rfloor:"\u230b",loz:"\u25ca",spades:"\u2660",clubs:"\u2663",hearts:"\u2665",diams:"\u2666"}},"6+kN":function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"Color",(function(){return it})),n.d(r,"Matrix3",(function(){return mt})),n.d(r,"Matrix4",(function(){return yt})),n.d(r,"Plane",(function(){return gt})),n.d(r,"Point2",(function(){return dt})),n.d(r,"Point3",(function(){return pt})),n.d(r,"Quaternion",(function(){return bt})),n.d(r,"Ray",(function(){return xt})),n.d(r,"Sphere",(function(){return wt})),n.d(r,"Transform2",(function(){return vt})),n.d(r,"Vec2",(function(){return lt})),n.d(r,"Vec3",(function(){return ft})),n.d(r,"EPSILON",(function(){return st})),n.d(r,"clamp",(function(){return ot})),n.d(r,"toDegrees",(function(){return at})),n.d(r,"toRadians",(function(){return ut})),n.d(r,"closeZero",(function(){return ct})),n.d(r,"closeEquals",(function(){return ht})),n.d(r,"Random",(function(){return Nt}));const i=Symbol("Comlink.proxy"),s=Symbol("Comlink.endpoint"),o=Symbol("Comlink.releaseProxy"),a=Symbol("Comlink.thrown"),u=t=>"object"==typeof t&&null!==t||"function"==typeof t,c=new Map([["proxy",{canHandle:t=>u(t)&&t[i],serialize(t){const{port1:e,port2:n}=new MessageChannel;return h(t,e),[n,[n]]},deserialize:t=>(t.start(),function t(e,n=[],r=function(){}){let i=!1;const a=new Proxy(r,{get(r,s){if(d(i),s===o)return()=>g(e,{type:5,path:n.map(t=>t.toString())}).then(()=>{l(e),i=!0});if("then"===s){if(0===n.length)return{then:()=>a};const t=g(e,{type:0,path:n.map(t=>t.toString())}).then(y);return t.then.bind(t)}return t(e,[...n,s])},set(t,r,s){d(i);const[o,a]=m(s);return g(e,{type:1,path:[...n,r].map(t=>t.toString()),value:o},a).then(y)},apply(r,o,a){d(i);const u=n[n.length-1];if(u===s)return g(e,{type:4}).then(y);if("bind"===u)return t(e,n.slice(0,-1));const[c,h]=f(a);return g(e,{type:2,path:n.map(t=>t.toString()),argumentList:c},h).then(y)},construct(t,r){d(i);const[s,o]=f(r);return g(e,{type:3,path:n.map(t=>t.toString()),argumentList:s},o).then(y)}});return a}(t,[],void 0))}],["throw",{canHandle:t=>u(t)&&a in t,serialize({value:t}){let e;return e=t instanceof Error?{isError:!0,value:{message:t.message,name:t.name,stack:t.stack}}:{isError:!1,value:t},[e,[]]},deserialize(t){if(t.isError)throw Object.assign(new Error(t.value.message),t.value);throw t.value}}]]);function h(t,e=self){e.addEventListener("message",(function n(r){if(!r||!r.data)return;const{id:s,type:o,path:u}=Object.assign({path:[]},r.data),c=(r.data.argumentList||[]).map(y);let d;try{const e=u.slice(0,-1).reduce((t,e)=>t[e],t),n=u.reduce((t,e)=>t[e],t);switch(o){case 0:d=n;break;case 1:e[u.slice(-1)[0]]=y(r.data.value),d=!0;break;case 2:d=n.apply(e,c);break;case 3:d=function(t){return Object.assign(t,{[i]:!0})}(new n(...c));break;case 4:{const{port1:e,port2:n}=new MessageChannel;h(t,n),d=function(t,e){return p.set(t,e),t}(e,[e])}break;case 5:d=void 0}}catch(f){d={value:f,[a]:0}}Promise.resolve(d).catch(t=>({value:t,[a]:0})).then(t=>{const[r,i]=m(t);e.postMessage(Object.assign(Object.assign({},r),{id:s}),i),5===o&&(e.removeEventListener("message",n),l(e))})})),e.start&&e.start()}function l(t){(function(t){return"MessagePort"===t.constructor.name})(t)&&t.close()}function d(t){if(t)throw new Error("Proxy has been released and is not useable")}function f(t){const e=t.map(m);return[e.map(t=>t[0]),(n=e.map(t=>t[1]),Array.prototype.concat.apply([],n))];var n}const p=new WeakMap;function m(t){for(const[e,n]of c)if(n.canHandle(t)){const[r,i]=n.serialize(t);return[{type:3,name:e,value:r},i]}return[{type:0,value:t},p.get(t)||[]]}function y(t){switch(t.type){case 3:return c.get(t.name).deserialize(t.value);case 0:return t.value}}function g(t,e,n){return new Promise(r=>{const i=new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-");t.addEventListener("message",(function e(n){n.data&&n.data.id&&n.data.id===i&&(t.removeEventListener("message",e),r(n.data))})),t.start&&t.start(),t.postMessage(Object.assign({id:i},e),n)})}function b(t,e,n,r){return new(n||(n=Promise))((function(i,s){function o(t){try{u(r.next(t))}catch(e){s(e)}}function a(t){try{u(r.throw(t))}catch(e){s(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,a)}u((r=r.apply(t,e||[])).next())}))}function x(t){return"function"==typeof t}let w=!1;const v={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else w&&console.log("RxJS: Back to a better error behavior. Thank you. <3");w=t},get useDeprecatedSynchronousErrorHandling(){return w}};function N(t){setTimeout(()=>{throw t},0)}const E={closed:!0,next(t){},error(t){if(v.useDeprecatedSynchronousErrorHandling)throw t;N(t)},complete(){}},S=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))(),D=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let M=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:r,_unsubscribe:i,_subscriptions:s}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(x(i)){r&&(this._unsubscribe=void 0);try{i.call(this)}catch(a){e=a instanceof D?T(a.errors):[a]}}if(S(s)){let t=-1,n=s.length;for(;++t<n;){const n=s[t];if(null!==(o=n)&&"object"==typeof o)try{n.unsubscribe()}catch(a){e=e||[],a instanceof D?e=e.concat(T(a.errors)):e.push(a)}}}var o;if(e)throw new D(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}return t.EMPTY=function(t){return t.closed=!0,t}(new t),t})();function T(t){return t.reduce((t,e)=>t.concat(e instanceof D?e.errors:e),[])}const _=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())();class O extends M{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=E;break;case 1:if(!t){this.destination=E;break}if("object"==typeof t){t instanceof O?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new z(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new z(this,t,e,n)}}[_](){return this}static create(t,e,n){const r=new O(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class z extends O{constructor(t,e,n,r){let i;super(),this._parentSubscriber=t;let s=this;x(e)?i=e:e&&(i=e.next,n=e.error,r=e.complete,e!==E&&(s=Object.create(e),x(s.unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this))),this._context=s,this._next=i,this._error=n,this._complete=r}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;v.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=v;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):N(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;N(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);v.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),v.useDeprecatedSynchronousErrorHandling)throw n;N(n)}}__tryOrSetError(t,e,n){if(!v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return v.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(N(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const I=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")();function A(t){return t}let C=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:r}=this,i=function(t,e,n){if(t){if(t instanceof O)return t;if(t[_])return t[_]()}return t||e||n?new O(t,e,n):new O(E)}(t,e,n);if(i.add(r?r.call(i,this.source):this.source||v.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),v.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}_trySubscribe(t){try{return this._subscribe(t)}catch(e){v.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:r}=t;if(e||r)return!1;t=n&&n instanceof O?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=$(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[I](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?A:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=$(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function $(t){if(t||(t=v.Promise||Promise),!t)throw new Error("no Promise impl found");return t}const P=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})();class R extends M{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}class U extends O{constructor(t){super(t),this.destination=t}}let F=(()=>{class t extends C{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[_](){return new U(this)}lift(t){const e=new W(this,this);return e.operator=t,e}next(t){if(this.closed)throw new P;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new P;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new P;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new P;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new P;return this.hasError?(t.error(this.thrownError),M.EMPTY):this.isStopped?(t.complete(),M.EMPTY):(this.observers.push(t),new R(this,t))}asObservable(){const t=new C;return t.source=this,t}}return t.create=(t,e)=>new W(t,e),t})();class W extends F{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):M.EMPTY}}var q="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),L=new Uint8Array(16);function k(){if(!q)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return q(L)}for(var j=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,V=function(t){return"string"==typeof t&&j.test(t)},H=[],Y=0;Y<256;++Y)H.push((Y+256).toString(16).substr(1));var B=function(t,e,n){var r=(t=t||{}).random||(t.rng||k)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(H[t[e+0]]+H[t[e+1]]+H[t[e+2]]+H[t[e+3]]+"-"+H[t[e+4]]+H[t[e+5]]+"-"+H[t[e+6]]+H[t[e+7]]+"-"+H[t[e+8]]+H[t[e+9]]+"-"+H[t[e+10]]+H[t[e+11]]+H[t[e+12]]+H[t[e+13]]+H[t[e+14]]+H[t[e+15]]).toLowerCase();if(!V(n))throw TypeError("Stringified UUID is invalid");return n}(r)};class X{constructor(){}static uuid(){return B()}static isNullOrUndefined(t){return null==t}static isEmpty(t){return!!X.isNullOrUndefined(t)||!t||t.length<1}static forEachProperty(t,e){Object.keys(t).forEach(n=>{e(t[n],n)})}static mapProperties(t,e){return Object.keys(t).map(n=>e(t[n],n))}static readFileAsText(t,e){return b(this,void 0,void 0,(function*(){var n=!1;const r=new FileReader;return new Promise((i,s)=>{r.onerror=t=>{n||s(t),n=!0};const o=()=>{n||i(r.result),n=!0};r.onload=o,r.onloadend=o,r.readAsText(t,e)})}))}static readFileAsArrayBuffer(t){return b(this,void 0,void 0,(function*(){var e=!1;const n=new FileReader;return new Promise((r,i)=>{n.onerror=t=>{e||i(t),e=!0};const s=()=>{e||r(n.result),e=!0};n.onload=s,n.onloadend=s,n.readAsArrayBuffer(t)})}))}static getNodesData(t){return X.isNullOrUndefined(t)||X.isNullOrUndefined(t.data)||X.isNullOrUndefined(t.data.nodes)?[]:X.mapProperties(t.data.nodes,t=>t)}static getSquishyNodesData(t){return X.getNodesData(t).map(t=>{if(!X.isNullOrUndefined(t)&&!X.isNullOrUndefined(t.data))return t.data}).filter(t=>!X.isNullOrUndefined(t))}static headOfSet(t){const e=Array.from(t.values());if(e)return e[0]}}var Q=function(t){return t.STARTED="started",t.INITIALIZING="initializing",t.RUNNING="running",t.COLLECTING="collecting",t.RESPONSE="response",t.DONE="done",t}({}),G=function(t){return t.FileInput="FileInput",t.FileOutput="FileOutput",t.Script="Script",t.TextInput="TextInput",t.Chart="Chart",t}({}),Z=function(t){return t.None="None",t.X="X",t.Y="Y",t.XY="XY",t}({});class J{constructor(t,e,n){this.execution=t,this.nodeData=e,this.executionData=n,this.executed=!1}isExecuted(){return this.executed}getNodeData(){const t=this.squishyNodeData();if(!X.isNullOrUndefined(t))return t}getExecutionData(){if(!X.isNullOrUndefined(this.executionData))return this.executionData}squishyNodeData(){if(!X.isNullOrUndefined(this.nodeData)&&!X.isNullOrUndefined(this.nodeData.data))return this.nodeData.data}id(){const t=this.squishyNodeData();if(!X.isNullOrUndefined(t))return t.id}execute(){return b(this,void 0,void 0,(function*(){if(!(yield this.isExecuteable()))throw new Error(`unable to execute nod executor [ ${this.id()} ], because node executor not executable`);try{yield this.internalExecute()}finally{this.executed=!0}}))}isExecuteable(){return b(this,void 0,void 0,(function*(){return(yield this.getDependentNodeExecutors()).every(t=>t.isExecuted())}))}getInputConnections(){return b(this,void 0,void 0,(function*(){const t=new Set;return X.isNullOrUndefined(this.nodeData)||X.isNullOrUndefined(this.nodeData.inputs)||X.forEachProperty(this.nodeData.inputs,e=>{!X.isNullOrUndefined(e.connections)&&e.connections&&e.connections.forEach(e=>{t.add(e.output)})}),t}))}getDependentNodeExecutors(){return b(this,void 0,void 0,(function*(){const t=yield this.getInputConnections(),e=Array.from(t.values());return yield Promise.all(e.map(t=>b(this,void 0,void 0,(function*(){const e=yield this.execution.getExecutor(t);if(X.isNullOrUndefined(e))throw new Error(`unable to find node executor for depnendency [ ${t} ]`);return e}))))}))}getExecutorId(t){return b(this,void 0,void 0,(function*(){if(X.isNullOrUndefined(this.nodeData)||X.isNullOrUndefined(this.nodeData.inputs))return;const e=this.nodeData.inputs;if(X.isNullOrUndefined(e[t]))return;const n=e[t];return!n.connections||n.connections.length<1?void 0:n.connections[0].output}))}getExecutor(t){return b(this,void 0,void 0,(function*(){const e=yield this.getExecutorId(t);return yield this.execution.getExecutor(e)}))}getResult(){return this.result}hasOutput(){return!1}}class K extends J{constructor(t,e,n){super(t,e,n)}internalExecute(){return b(this,void 0,void 0,(function*(){const t=this.getNodeData();if(X.isNullOrUndefined(t))throw new Error("unable to get chart data");const e=(yield Promise.all(X.mapProperties(t.datasets,(e,n)=>b(this,void 0,void 0,(function*(){return this.dataset(n,t,e)}))))).filter(t=>!X.isNullOrUndefined(t)),n=yield this.options(t),r={id:this.id(),data:{datasets:e},options:n};this.result=r}))}dataset(t,e,n){return b(this,void 0,void 0,(function*(){const r=yield this.getExecutor(t);if(X.isNullOrUndefined(r))return;if(!r.isExecuted())throw new Error(`node executor [ ${r.id()} ] for dataset [ ${t}, ${n.name} ] is not yet executed`);const i=r.getResult();return this.createDataset(i,e,n)}))}createDataset(t,e,n){return b(this,void 0,void 0,(function*(){return{data:t,lineTension:e.lineTension||0,fill:n.fill,label:n.name,showLine:n.lines,borderColor:n.color,pointBackgroundColor:n.color}}))}options(t){return b(this,void 0,void 0,(function*(){const e=yield this.zoomPanPlugin(t),n=Math.max(t.animation?750:0,0);return{animation:{duration:n},hover:{animationDuration:n},responsiveAnimationDuration:n,plugins:{zoom:e}}}))}zoomPanPlugin(t){return b(this,void 0,void 0,(function*(){const e=t.pan!==Z.None,n=t.zoom!==Z.None;let r={pan:{enabled:e},zoom:{enabled:n}};return e&&(r.pan.mode=(""+t.pan).toLowerCase()),n&&(r.zoom.mode=(""+t.zoom).toLowerCase()),r}))}hasOutput(){return!0}}var tt=function(t){return t.Binary="binary",t.Text="text",t}({}),et=function(t){return t.ASCII="ascii",t.ISO_8859_1="ISO-8859-1",t.ISO_8859_15="ISO-8859-15",t.UTF_8="UTF-8",t.UTF_16="UTF-16",t}({});class nt extends J{constructor(t,e,n){super(t,e,n)}get fileInputExecutionData(){return this.executionData}internalExecute(){return b(this,void 0,void 0,(function*(){if(this.result=void 0,X.isNullOrUndefined(this.fileInputExecutionData)||!this.fileInputExecutionData)return;const t=yield Promise.all(this.fileInputExecutionData.map(t=>b(this,void 0,void 0,(function*(){const e=yield this.read(t);return this.extendedOutput?{file:t,data:e}:e}))));!X.isNullOrUndefined(t)&&t&&(this.result=t,t.length<2&&(this.result=t[0]))}))}read(t){return b(this,void 0,void 0,(function*(){return this.getNodeData().mode===tt.Text?yield X.readFileAsText(t,this.endocing):yield X.readFileAsArrayBuffer(t)}))}get endocing(){return this.getNodeData().encoding?this.getNodeData().encoding:et.UTF_8}get extendedOutput(){return!!this.getNodeData().extendedOutput&&this.getNodeData().extendedOutput}}class rt extends J{constructor(t,e,n){super(t,e,n)}internalExecute(){return b(this,void 0,void 0,(function*(){const t=yield this.getDependentNodeExecutors();if(!t||t.length<1)throw new Error(`unable to execute file output executor [ ${this.id()} ], because no dependent node executor found`);const e=t[0];if(!e.isExecuted())throw new Error(`dependet node executor [ ${e.id()} ] for node [ ${this.id()} ] are not executed`);const n=e.getResult(),r=new Blob([n],{type:this.getNodeData().contentType,endings:this.getNodeData().endings}),i=URL.createObjectURL(r);this.result=i}))}hasOutput(){return!0}}class it{constructor(t,e,n,r){this.r=t,this.g=e,this.b=n,this.a=r}static fromHSL(t,e,n){const r=new it(0,0,0,void 0);if(0==e)r.r=r.g=r.b=n;else{var i=function(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t},s=n<.5?n*(1+e):n+e-n*e,o=2*n-s;r.r=i(o,s,t+1/3),r.g=i(o,s,t),r.b=i(o,s,t-1/3)}return r}static random(){const t=Math.random();return it.fromHSL(t,1,.5)}toHex(){const t=t=>{let e=Math.round(255*t).toString(16);for(;e.length<2;)e="0"+e;return e},e=t(this.r),n=t(this.g),r=t(this.b);return this.isAlpha()?`#${e}${n}${r}${t(this.a)}`:`#${e}${n}${r}`}toString(){const t=Math.round(255*this.r),e=Math.round(255*this.g),n=Math.round(255*this.b);return this.isAlpha()?`rgba(${t}, ${e}, ${n}, ${this.a})`:`rgb(${t}, ${e}, ${n})`}isAlpha(){return null!=this.a}}const st=1e-10;function ot(t,e,n){return Math.min(n,Math.max(t,e))}function at(t){return 180*t/Math.PI}function ut(t){return t*Math.PI/180}function ct(t){return ht(0,t)}function ht(t,e){return Math.abs(t-e)<st}class lt{constructor(t,e){this.x=t,this.y=e}dot(t,e){return this.x*t+this.y*e}dotWith(t){return this.dot(t.x,t.y)}cross(t,e){return this.x*e-this.y*t}crossWith(t){return this.cross(t.x,t.y)}lengthSquared(){return this.x*this.x+this.y*this.y}length(){const t=this.lengthSquared();return Math.sqrt(t)}normalize(){const t=this.length();return ct(t)?new lt(0,0):new lt(this.x/t,this.y/t)}angle(t,e){const n=this.dot(t,e),r=this.length(),i=Math.sqrt(t*t+e*e);return Math.acos(n/(r*i))}angleWith(t){return this.angle(t.x,t.y)}scale(t){return new lt(this.x*t,this.y*t)}add(t,e){return new lt(this.x+t,this.y+e)}addWith(t){return this.add(t.x,t.y)}multiply(t,e){return new lt(this.x*t,this.y*e)}multiplyWith(t){return this.multiply(t.x,t.y)}divide(t,e){return new lt(this.x/t,this.y/e)}divideWith(t){return this.divide(t.x,t.y)}subtract(t,e){return new lt(this.x-t,this.y-e)}subtractWith(t){return this.subtract(t.x,t.y)}inverse(){return new lt(-1*this.x,-1*this.y)}clone(){return new lt(this.x,this.y)}perpendicularCW(){return new lt(this.y,-this.x)}perpendicularCCW(){return new lt(-this.y,this.x)}static random(){const t=Math.random(),e=Math.random();return new lt(t,e)}applyMatrix3(t){return t.applyVec2(this)}rotateAround(t,e,n){const r=Math.cos(n),i=Math.sin(n),s=this.x-t,o=this.y-e;return new lt(s*r-o*i+t,s*i+o*r+e)}rotateAroundWith(t,e){return this.rotateAround(t.x,t.y,e)}static xAxis(){return new lt(1,0)}static yAxis(){return new lt(0,1)}}class dt{constructor(t,e){this.x=t,this.y=e}translate(t,e){return new dt(this.x+t,this.y+e)}translateWith(t){return this.translate(t.x,t.y)}translateDirection(t,e){const n=t.scale(e);return this.translateWith(n)}distanceSquared(t,e){const n=this.x-t,r=this.y-e;return n*n+r*r}distanceSquaredTo(t){return this.distanceSquared(t.x,t.y)}distance(t,e){const n=this.distanceSquared(t,e);return Math.sqrt(n)}distanceTo(t){return this.distance(t.x,t.y)}subtract(t,e){return new lt(this.x-t,this.y-e)}subtractWith(t){return this.subtract(t.x,t.y)}center(t,e){return new dt((this.x+t)/2,(this.y+e)/2)}centerWith(t){return this.center(t.x,t.y)}clone(){return new dt(this.x,this.y)}applyMatrix3(t){return t.applyPoint2(this)}}class ft{constructor(t,e,n){this.x=t,this.y=e,this.z=n}lengthSquared(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){const t=this.lengthSquared();return Math.sqrt(t)}dot(t,e,n){return this.x*t+this.y*e+this.z*n}dotWith(t){return this.dot(t.x,t.y,t.z)}normalize(){const t=this.length();return ct(t)?new ft(0,0,0):new ft(this.x/t,this.y/t,this.z/t)}cross(t,e,n){return new ft(this.y*n-this.z*e,t*this.z-n*this.x,this.x*e-this.y*t)}crossWith(t){return this.cross(t.x,t.y,t.z)}scale(t){return new ft(this.x*t,this.y*t,this.z*t)}add(t,e,n){return new ft(this.x+t,this.y+e,this.z+n)}addWith(t){return this.add(t.x,t.y,t.z)}multiply(t,e,n){return new ft(this.x*t,this.y*e,this.z*n)}multiplyWith(t){return this.multiply(t.x,t.y,t.z)}divide(t,e,n){return new ft(this.x/t,this.y/e,this.z/n)}divideWith(t){return this.divide(t.x,t.y,t.z)}subtract(t,e,n){return new ft(this.x-t,this.y-e,this.z-n)}subtractWith(t){return this.subtract(t.x,t.y,t.z)}inverse(){return new ft(-1*this.x,-1*this.y,-1*this.z)}clone(){return new ft(this.x,this.y,this.z)}static random(){const t=Math.random(),e=Math.random(),n=Math.random();return new ft(t,e,n)}applyMatrix3(t){return t.applyVec3(this)}applyMatrix4(t){return t.applyVec3(this)}applyQuaternion(t){return t.applyVec3(this)}distanceSquared(t,e,n){const r=this.x-t,i=this.y-e,s=this.z-n;return r*r+i*i+s*s}distanceSquaredTo(t){return this.distanceSquared(t.x,t.y,t.z)}distance(t,e,n){const r=this.distanceSquared(t,e,n);return Math.sqrt(r)}distanceTo(t){return this.distance(t.x,t.y,t.z)}static xAxis(){return new ft(1,0,0)}static yAxis(){return new ft(0,1,0)}static zAxis(){return new ft(0,0,1)}}class pt{constructor(t,e,n){this.x=t,this.y=e,this.z=n}translate(t,e,n){return new pt(this.x+t,this.y+e,this.z+n)}translateWith(t){return this.translate(t.x,t.y,t.z)}translateDirection(t,e){const n=t.scale(e);return this.translateWith(n)}distanceSquared(t,e,n){const r=this.x-t,i=this.y-e,s=this.z-n;return r*r+i*i+s*s}distanceSquaredTo(t){return this.distanceSquared(t.x,t.y,t.z)}distance(t,e,n){const r=this.distanceSquared(t,e,n);return Math.sqrt(r)}distanceTo(t){return this.distance(t.x,t.y,t.z)}subtract(t,e,n){return new ft(this.x-t,this.y-e,this.z-n)}subtractWith(t){return this.subtract(t.x,t.y,t.z)}center(t,e,n){return new pt((this.x+t)/2,(this.y+e)/2,(this.z+n)/2)}centerWith(t){return this.center(t.x,t.y,t.z)}clone(){return new pt(this.x,this.y,this.z)}applyMatrix3(t){return t.applyPoint3(this)}applyMatrix4(t){return t.applyPoint3(this)}applyQuaternion(t){return t.applyPoint3(this)}}class mt{constructor(t,e,n,r,i,s,o,a,u){this.elements=[t,r,o,e,i,a,n,s,u]}static zero(){return new mt(0,0,0,0,0,0,0,0,0)}static identity(){return new mt(1,0,0,0,1,0,0,0,1)}clone(){const t=this.elements;return new mt(t[0],t[3],t[6],t[1],t[4],t[7],t[2],t[5],t[8])}multiplyWith(t){return mt.multiplyMatrices(this,t)}premultiplyWith(t){return mt.multiplyMatrices(t,this)}static multiplyMatrices(t,e){const n=t.elements,r=e.elements,i=mt.zero(),s=i.elements,o=n[0],a=n[3],u=n[6],c=n[1],h=n[4],l=n[7],d=n[2],f=n[5],p=n[8],m=r[0],y=r[3],g=r[6],b=r[1],x=r[4],w=r[7],v=r[2],N=r[5],E=r[8];return s[0]=o*m+a*b+u*v,s[3]=o*y+a*x+u*N,s[6]=o*g+a*w+u*E,s[1]=c*m+h*b+l*v,s[4]=c*y+h*x+l*N,s[7]=c*g+h*w+l*E,s[2]=d*m+f*b+p*v,s[5]=d*y+f*x+p*N,s[8]=d*g+f*w+p*E,i}multiplyScalar(t){const e=this.clone(),n=e.elements;return n[0]*=t,n[3]*=t,n[6]*=t,n[1]*=t,n[4]*=t,n[7]*=t,n[2]*=t,n[5]*=t,n[8]*=t,e}determinant(){const t=this.elements,e=t[0],n=t[1],r=t[2],i=t[3],s=t[4],o=t[5],a=t[6],u=t[7],c=t[8];return e*s*c-e*o*u-n*i*c+n*o*a+r*i*u-r*s*a}inverse(){const t=mt.zero(),e=t.elements,n=this.elements,r=e[0],i=e[1],s=e[2],o=e[3],a=e[4],u=e[5],c=e[6],h=e[7],l=e[8],d=l*a-u*h,f=u*c-l*o,p=h*o-a*c,m=r*d+i*f+s*p;if(ct(m))return mt.zero();const y=1/m;return n[0]=d*y,n[1]=(s*h-l*i)*y,n[2]=(u*i-s*a)*y,n[3]=f*y,n[4]=(l*r-s*c)*y,n[5]=(s*o-u*r)*y,n[6]=p*y,n[7]=(i*c-h*r)*y,n[8]=(a*r-i*o)*y,t}transpose(){const t=this.clone(),e=t.elements;let n;return n=e[1],e[1]=e[3],e[3]=n,n=e[2],e[2]=e[6],e[6]=n,n=e[5],e[5]=e[7],e[7]=n,t}normalMatrix(){return this.inverse().transpose()}static transform(t,e,n,r,i,s,o){const a=Math.cos(i),u=Math.sin(i);return new mt(n*a,n*u,-n*(a*s+u*o)+s+t,-r*u,r*a,-r*(-u*s+a*o)+o+e,0,0,1)}scale(t,e){const n=this.clone(),r=n.elements;return r[0]*=t,r[3]*=t,r[6]*=t,r[1]*=e,r[4]*=e,r[7]*=e,n}rotate(t){const e=this.clone(),n=e.elements,r=Math.cos(t),i=Math.sin(t),s=n[0],o=n[3],a=n[6],u=n[1],c=n[4],h=n[7];return n[0]=r*s+i*u,n[3]=r*o+i*c,n[6]=r*a+i*h,n[1]=-i*s+r*u,n[4]=-i*o+r*c,n[7]=-i*a+r*h,e}translate(t,e){const n=this.clone(),r=n.elements;return r[0]+=t*r[2],r[3]+=t*r[5],r[6]+=t*r[8],r[1]+=e*r[2],r[4]+=e*r[5],r[7]+=e*r[8],n}applyVec2(t){const e=t.x,n=t.y,r=this.elements;return new lt(r[0]*e+r[3]*n+r[6],r[1]*e+r[4]*n+r[7])}applyPoint2(t){const e=new lt(t.x,t.y),n=this.applyVec2(e);return new dt(n.x,n.y)}applyVec3(t){const e=t.x,n=t.y,r=t.z,i=this.elements;return new ft(i[0]*e+i[3]*n+i[6]*r,i[1]*e+i[4]*n+i[7]*r,i[2]*e+i[5]*n+i[8]*r)}applyPoint3(t){const e=new ft(t.x,t.y,t.z),n=this.applyVec3(e);return new pt(n.x,n.y,n.z)}at(t){return this.elements[t]}}class yt{constructor(t,e,n,r,i,s,o,a,u,c,h,l,d,f,p,m){this.elements=[t,i,u,d,e,s,c,f,n,o,h,p,r,a,l,m]}static identity(){return new yt(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)}static zero(){return new yt(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}clone(){const t=this.elements;return new yt(t[0],t[4],t[8],t[12],t[1],t[5],t[9],t[13],t[2],t[6],t[10],t[14],t[3],t[7],t[11],t[15])}static rotationFromEuler(t,e,n){const r=yt.zero(),i=r.elements,s=Math.cos(t),o=Math.sin(t),a=Math.cos(e),u=Math.sin(e),c=Math.cos(n),h=Math.sin(n),l=s*c,d=s*h,f=o*c,p=o*h;return i[0]=a*c,i[4]=-a*h,i[8]=u,i[1]=d+f*u,i[5]=l-p*u,i[9]=-o*a,i[2]=p-l*u,i[6]=f+d*u,i[10]=s*a,i[3]=0,i[7]=0,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,r}static lookAt(t,e,n){const r=yt.identity(),i=r.elements;let s=t.subtractWith(e);ct(s.lengthSquared())&&(s.z=1),s=s.normalize();let o=n.crossWith(s);if(ct(o.lengthSquared())){const t=1e-4;ht(Math.abs(n.z),1)?s.x+=t:s.z+=t,s=s.normalize(),o=n.crossWith(s)}o=o.normalize();const a=s.crossWith(o);return i[0]=o.x,i[4]=a.x,i[8]=s.x,i[1]=o.y,i[5]=a.y,i[9]=s.y,i[2]=o.z,i[6]=a.z,i[10]=s.z,r}multiply(t){return yt.multiplyMatrices(this,t)}premultiply(t){return yt.multiplyMatrices(t,this)}static multiplyMatrices(t,e){const n=yt.zero(),r=t.elements,i=e.elements,s=n.elements,o=r[0],a=r[4],u=r[8],c=r[12],h=r[1],l=r[5],d=r[9],f=r[13],p=r[2],m=r[6],y=r[10],g=r[14],b=r[3],x=r[7],w=r[11],v=r[15],N=i[0],E=i[4],S=i[8],D=i[12],M=i[1],T=i[5],_=i[9],O=i[13],z=i[2],I=i[6],A=i[10],C=i[14],$=i[3],P=i[7],R=i[11],U=i[15];return s[0]=o*N+a*M+u*z+c*$,s[4]=o*E+a*T+u*I+c*P,s[8]=o*S+a*_+u*A+c*R,s[12]=o*D+a*O+u*C+c*U,s[1]=h*N+l*M+d*z+f*$,s[5]=h*E+l*T+d*I+f*P,s[9]=h*S+l*_+d*A+f*R,s[13]=h*D+l*O+d*C+f*U,s[2]=p*N+m*M+y*z+g*$,s[6]=p*E+m*T+y*I+g*P,s[10]=p*S+m*_+y*A+g*R,s[14]=p*D+m*O+y*C+g*U,s[3]=b*N+x*M+w*z+v*$,s[7]=b*E+x*T+w*I+v*P,s[11]=b*S+x*_+w*A+v*R,s[15]=b*D+x*O+w*C+v*U,n}multiplyScalar(t){const e=this.clone(),n=e.elements;return n[0]*=t,n[4]*=t,n[8]*=t,n[12]*=t,n[1]*=t,n[5]*=t,n[9]*=t,n[13]*=t,n[2]*=t,n[6]*=t,n[10]*=t,n[14]*=t,n[3]*=t,n[7]*=t,n[11]*=t,n[15]*=t,e}determinant(){const t=this.elements,e=t[0],n=t[4],r=t[8],i=t[12],s=t[1],o=t[5],a=t[9],u=t[13],c=t[2],h=t[6],l=t[10],d=t[14];return t[3]*(+i*a*h-r*u*h-i*o*l+n*u*l+r*o*d-n*a*d)+t[7]*(+e*a*d-e*u*l+i*s*l-r*s*d+r*u*c-i*a*c)+t[11]*(+e*u*h-e*o*d-i*s*h+n*s*d+i*o*c-n*u*c)+t[15]*(-r*o*c-e*a*h+e*o*l+r*s*h-n*s*l+n*a*c)}transpose(){const t=this.clone(),e=t.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,t}inverse(){const t=this.elements,e=yt.zero(),n=e.elements,r=n[0],i=n[1],s=n[2],o=n[3],a=n[4],u=n[5],c=n[6],h=n[7],l=n[8],d=n[9],f=n[10],p=n[11],m=n[12],y=n[13],g=n[14],b=n[15],x=d*g*h-y*f*h+y*c*p-u*g*p-d*c*b+u*f*b,w=m*f*h-l*g*h-m*c*p+a*g*p+l*c*b-a*f*b,v=l*y*h-m*d*h+m*u*p-a*y*p-l*u*b+a*d*b,N=m*d*c-l*y*c-m*u*f+a*y*f+l*u*g-a*d*g,E=r*x+i*w+s*v+o*N;if(ct(E))return e;const S=1/E;return t[0]=x*S,t[1]=(y*f*o-d*g*o-y*s*p+i*g*p+d*s*b-i*f*b)*S,t[2]=(u*g*o-y*c*o+y*s*h-i*g*h-u*s*b+i*c*b)*S,t[3]=(d*c*o-u*f*o-d*s*h+i*f*h+u*s*p-i*c*p)*S,t[4]=w*S,t[5]=(l*g*o-m*f*o+m*s*p-r*g*p-l*s*b+r*f*b)*S,t[6]=(m*c*o-a*g*o-m*s*h+r*g*h+a*s*b-r*c*b)*S,t[7]=(a*f*o-l*c*o+l*s*h-r*f*h-a*s*p+r*c*p)*S,t[8]=v*S,t[9]=(m*d*o-l*y*o-m*i*p+r*y*p+l*i*b-r*d*b)*S,t[10]=(a*y*o-m*u*o+m*i*h-r*y*h-a*i*b+r*u*b)*S,t[11]=(l*u*o-a*d*o-l*i*h+r*d*h+a*i*p-r*u*p)*S,t[12]=N*S,t[13]=(l*y*s-m*d*s+m*i*f-r*y*f-l*i*g+r*d*g)*S,t[14]=(m*u*s-a*y*s-m*i*c+r*y*c+a*i*g-r*u*g)*S,t[15]=(a*d*s-l*u*s+l*i*c-r*d*c-a*i*f+r*u*f)*S,e}multiplyScale(t,e,n){const r=this.clone(),i=r.elements;return i[0]*=t,i[4]*=e,i[8]*=n,i[1]*=t,i[5]*=e,i[9]*=n,i[2]*=t,i[6]*=e,i[10]*=n,i[3]*=t,i[7]*=e,i[11]*=n,r}multiplyScaleWith(t){return this.multiplyScale(t.x,t.y,t.z)}static translation(t,e,n){return new yt(1,0,0,t,0,1,0,e,0,0,1,n,0,0,0,1)}static rotationX(t){const e=Math.cos(t),n=Math.sin(t);return new yt(1,0,0,0,0,e,-n,0,0,n,e,0,0,0,0,1)}static rotationY(t){const e=Math.cos(t),n=Math.sin(t);return new yt(e,0,n,0,0,1,0,0,-n,0,e,0,0,0,0,1)}static rotationZ(t){const e=Math.cos(t),n=Math.sin(t);return new yt(e,-n,0,0,n,e,0,0,0,0,1,0,0,0,0,1)}static rotationAxis(t,e,n,r){const i=Math.cos(r),s=Math.sin(r),o=1-i,a=o*t,u=o*e;return new yt(a*t+i,a*e-s*n,a*n+s*e,0,a*e+s*n,u*e+i,u*n-s*t,0,a*n-s*e,u*n+s*t,o*n*n+i,0,0,0,0,1)}static rotationAxisWith(t,e){return yt.rotationAxis(t.x,t.y,t.z,e)}static scale(t,e,n){return new yt(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1)}static scaleWith(t){return yt.scale(t.x,t.y,t.z)}static shear(t,e,n){return new yt(1,e,n,0,t,1,n,0,t,e,1,0,0,0,0,1)}static shearWith(t){return yt.shear(t.x,t.y,t.z)}static perspective(t,e,n,r,i,s){const o=yt.zero(),a=o.elements,u=2*i/(n-r),c=(e+t)/(e-t),h=(n+r)/(n-r),l=-(s+i)/(s-i);return a[0]=2*i/(e-t),a[4]=0,a[8]=c,a[12]=0,a[1]=0,a[5]=u,a[9]=h,a[13]=0,a[2]=0,a[6]=0,a[10]=l,a[14]=0,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,o}static orthographic(t,e,n,r,i,s){const o=yt.zero(),a=o.elements,u=1/(e-t),c=1/(n-r),h=1/(s-i),l=(e+t)*u,d=(n+r)*c,f=(s+i)*h;return a[0]=2*u,a[4]=0,a[8]=0,a[12]=-l,a[1]=0,a[5]=2*c,a[9]=0,a[13]=-d,a[2]=0,a[6]=0,a[10]=-2*h,a[14]=-f,a[3]=0,a[7]=0,a[11]=0,a[15]=1,o}applyVec3(t){return new ft(t.x,t.y,t.z)}applyPoint3(t){const e=new ft(t.x,t.y,t.z),n=this.applyVec3(e);return new pt(n.x,n.y,n.z)}at(t){return this.elements[t]}static compose(t,e,n){const r=yt.zero(),i=r.elements,s=e.x,o=e.y,a=e.z,u=e.w,c=s+s,h=o+o,l=a+a,d=s*c,f=s*h,p=s*l,m=o*h,y=o*l,g=a*l,b=u*c,x=u*h,w=u*l,v=n.x,N=n.y,E=n.z;return i[0]=(1-(m+g))*v,i[1]=(f+w)*v,i[2]=(p-x)*v,i[3]=0,i[4]=(f-w)*N,i[5]=(1-(d+g))*N,i[6]=(y+b)*N,i[7]=0,i[8]=(p+x)*E,i[9]=(y-b)*E,i[10]=(1-(d+m))*E,i[11]=0,i[12]=t.x,i[13]=t.y,i[14]=t.z,i[15]=1,r}static rotationFromQuaternion(t){const e=new ft(1,1,1),n=new ft(0,0,0);return yt.compose(n,t,e)}maxScaleOnAxis(){const t=this.elements;return Math.sqrt(Math.max(t[0]*t[0]+t[1]*t[1]+t[2]*t[2],t[4]*t[4]+t[5]*t[5]+t[6]*t[6],t[8]*t[8]+t[9]*t[9]+t[10]*t[10]))}}class gt{constructor(t,e){this.normal=t.normalize(),this.constant=e}clone(){const t=this.normal.clone();return new gt(t,this.constant)}negate(){const t=this.normal.inverse();return new gt(t,-1*this.constant)}distanceToPoint(t){return this.normal.dotWith(t)+this.constant}projectPoint(t){const e=this.distanceToPoint(t);return this.normal.scale(-e).addWith(t)}translate(t){const e=this.normal.clone(),n=this.constant-t.dotWith(this.normal);return new gt(e,n)}coplanarPoint(){return this.normal.scale(-this.constant)}normalAt(t){return this.normal.clone()}}class bt{constructor(t,e,n,r){this.x=t,this.y=e,this.z=n,this.w=r}static zero(){return new bt(0,0,0,1)}clone(){return new bt(this.x,this.y,this.z,this.w)}static fromEuler(t,e,n){const r=bt.zero(),i=Math.cos(t/2),s=Math.cos(e/2),o=Math.cos(n/2),a=Math.sin(t/2),u=Math.sin(e/2),c=Math.sin(n/2);return r.x=a*s*o+i*u*c,r.y=i*u*o-a*s*c,r.z=i*s*c+a*u*o,r.w=i*s*o-a*u*c,r}static fromEulerWith(t){return bt.fromEuler(t.x,t.y,t.z)}static fromAxisAngle(t,e,n,r){const i=bt.zero(),s=r/2,o=Math.sin(s);return i.x=t*o,i.y=e*o,i.z=n*o,i.w=Math.cos(s),i}static fromAxisAngleWith(t,e){return bt.fromAxisAngle(t.x,t.y,t.z,e)}static fromMatrix(t,e,n,r,i,s,o,a,u){const c=bt.zero(),h=t+i+u;if(h>0){const t=.5/Math.sqrt(h+1);c.w=.25/t,c.x=(a-s)*t,c.y=(n-o)*t,c.z=(r-e)*t}else if(t>i&&t>u){const h=2*Math.sqrt(1+t-i-u);c.w=(a-s)/h,c.x=.25*h,c.y=(e+r)/h,c.z=(n+o)/h}else if(i>u){const h=2*Math.sqrt(1+i-t-u);c.w=(n-o)/h,c.x=(e+r)/h,c.y=.25*h,c.z=(s+a)/h}else{const h=2*Math.sqrt(1+u-t-i);c.w=(r-e)/h,c.x=(n+o)/h,c.y=(s+a)/h,c.z=.25*h}return c}static fromMatrix3(t){return bt.fromMatrix(t.at(0),t.at(4),t.at(8),t.at(1),t.at(5),t.at(9),t.at(2),t.at(6),t.at(9))}static fromMatrix4(t){return bt.fromMatrix(t.at(0),t.at(4),t.at(8),t.at(1),t.at(5),t.at(9),t.at(2),t.at(6),t.at(9))}static fromUnitVectors(t,e){const n=st,r=bt.zero();let i=t.dotWith(e);return i<n?(i=0,Math.abs(t.x)>Math.abs(t.z)?(r.x=-t.y,r.y=t.x,r.z=0,r.w=i):(r.x=0,r.y=-t.z,r.z=t.y,r.w=i)):(r.x=t.y*e.z-t.z*e.y,r.y=t.z*e.x-t.x*e.z,r.z=t.x*e.y-t.y*e.x,r.w=i),r.normalize()}angleTo(t){return 2*Math.acos(Math.abs(ot(-1,this.dot(t),1)))}static identity(){return new bt(0,0,0,1)}inverse(){return this.conjugate()}conjugate(){const t=this.clone();return t.x*=-1,t.y*=-1,t.z*=-1,t}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}lengthSquared(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){const t=this.lengthSquared();return Math.sqrt(t)}normalize(){const t=this.clone();let e=this.length();return ct(e)?bt.identity():(t.x=t.x/e,t.y=t.y/e,t.z=t.z/e,t.w=t.w/e,t)}multiply(t){return bt.multiplyQuaternions(this,t)}premultiply(t){return bt.multiplyQuaternions(t,this)}static multiplyQuaternions(t,e){const n=t.x,r=t.y,i=t.z,s=t.w,o=e.x,a=e.y,u=e.z,c=e.w,h=bt.zero();return h.x=n*c+s*o+r*u-i*a,h.y=r*c+s*a+i*o-n*u,h.z=i*c+s*u+n*a-r*o,h.w=s*c-n*o-r*a-i*u,h}slerp(t,e){e=ot(0,e,1);const n=this.clone();if(ct(e))return n;if(ht(1,e))return t.clone();const r=n.x,i=this.y,s=this.z,o=this.w;let a=o*t.w+r*t.x+i*t.y+s*t.z;if(a<0?(n.w=-t.w,n.x=-t.x,n.y=-t.y,n.z=-t.z,a=-a):(n.w=t.w,n.x=t.x,n.y=t.y,n.z=t.z),a>=1)return n.w=o,n.x=r,n.y=i,n.z=s,n;const u=1-a*a;if(u<=st){const t=1-e;return n.w=t*o+e*n.w,n.x=t*r+e*n.x,n.y=t*i+e*n.y,n.z=t*s+e*n.z,n}const c=Math.sqrt(u),h=Math.atan2(c,a),l=Math.sin((1-e)*h)/c,d=Math.sin(e*h)/c;return n.w=o*l+n.w*d,n.x=r*l+n.x*d,n.y=i*l+n.y*d,n.z=s*l+n.z*d,n}applyVec3(t){const e=t.x,n=t.y,r=t.z,i=this.x,s=this.y,o=this.z,a=this.w,u=a*e+s*r-o*n,c=a*n+o*e-i*r,h=a*r+i*n-s*e,l=-i*e-s*n-o*r;return new ft(u*a+l*-i+c*-o-h*-s,c*a+l*-s+h*-i-u*-o,h*a+l*-o+u*-s-c*-i)}applyPoint3(t){const e=new ft(t.x,t.y,t.z),n=this.applyVec3(e);return new pt(n.x,n.y,n.z)}}class xt{constructor(t,e){this.origin=t,this.direction=e.normalize()}clone(){const t=this.origin.clone(),e=this.direction.clone();return new xt(t,e)}at(t){const e=this.direction.normalize().scale(t);return this.origin.addWith(e)}lookAt(t){const e=this.origin.clone(),n=t.subtractWith(e);return new xt(e,n)}recast(t){const e=this.at(t),n=this.direction.clone();return new xt(e,n)}closestPointToPoint(t){const e=t.subtractWith(this.origin).dotWith(this.direction);return e<0?this.origin.clone():this.at(e)}distanceSquaredToPoint(t){return this.closestPointToPoint(t).distanceSquaredTo(t)}applyMatrix4(t){const e=this.origin.applyMatrix4(t),n=this.direction.applyMatrix4(t);return new xt(e,n)}applyQuaternion(t){const e=this.origin.applyQuaternion(t),n=this.direction.applyQuaternion(t);return new xt(e,n)}distanceToPlane(t){const e=t.normal.dotWith(this.direction);if(ct(e))return ct(t.distanceToPoint(this.origin))?0:void 0;const n=-(this.origin.dotWith(t.normal)+t.constant)/e;return n<0?void 0:n}intersectPlane(t){const e=this.distanceToPlane(t);if(void 0!==e)return this.at(e)}intersectsPlane(t){const e=t.distanceToPoint(this.origin);return!!ct(e)||t.normal.dotWith(this.direction)*e<0}intersectSphere(t){const e=t.center.subtractWith(this.origin),n=e.dotWith(this.direction),r=e.dotWith(e)-n*n,i=t.radius*t.radius;if(r>i)return;const s=Math.sqrt(i-r),o=n-s,a=n+s;return o<0&&a<0?void 0:this.at(o<0?a:o)}intersectsSphere(t){const e=t.center.subtractWith(this.origin),n=e.dotWith(this.direction),r=n*n-e.dotWith(e)+t.radius*t.radius;return r>0||ct(r)}}class wt{constructor(t,e){this.center=t,this.radius=e}containsPoint(t){return t.distanceSquaredTo(this.center)<=this.radius*this.radius}distanceToPoint(t){return t.distanceTo(this.center)-this.radius}intersectsPlane(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}translate(t){const e=this.center.addWith(t);return new wt(e,this.radius)}applyMatrix4(t){const e=this.center.applyMatrix4(t),n=this.radius*t.maxScaleOnAxis();return new wt(e,n)}normalAt(t){return t.subtractWith(this.center).normalize()}}class vt{constructor(t,e,n,r,i,s){this.a=t,this.b=e,this.c=n,this.d=r,this.e=i,this.f=s}scale(t,e){const n=this.clone();return ct(n.a)?n.a=t:n.a*=t,n.b*=t,n.c*=e,ct(n.d)?n.d=e:n.d*=e,n}scaleWith(t){return this.scale(t.x,t.y)}det(){return this.a*this.d-this.b*this.c}inverse(){const t=this.det();return ct(t)?vt.identity():new vt(this.d/t,-this.b/t,-this.c/t,this.a/t,(this.c*this.f-this.d*this.e)/t,(this.b*this.e-this.a*this.f)/t)}multiply(t){return new vt(t.a*this.a+t.b*this.c,t.a*this.b+t.b*this.d,t.c*this.a+t.d*this.c,t.c*this.b+t.d*this.d,t.e*this.a+t.f*this.c+this.e,t.e*this.b+t.f*this.d+this.f)}transform(t,e){return new dt(this.a*t+this.c*e+this.e,this.b*t+this.d*e+this.f)}transformVec(t){const e=this.transform(t.x,t.y);return new lt(e.x,e.y)}transformPoint(t){return this.transform(t.x,t.y)}scaleX(){return Math.sqrt(this.a*this.a+this.b*this.b)}scaleY(){return Math.sqrt(this.c*this.c+this.d*this.d)}translateX(){return this.e}translateY(){return this.f}static identity(){return new vt(1,0,0,1,0,0)}translate(t,e){const n=new vt(1,0,0,1,t,e);return this.multiply(n)}rotate(t){const e=Math.cos(t),n=Math.sin(t),r=new vt(e,n,-n,e,0,0);return this.multiply(r)}rotateDegrees(t){const e=ut(t);return this.rotate(e)}clone(){return new vt(this.a,this.b,this.c,this.d,this.e,this.f)}}class Nt{float(){return Math.random()}intN(t){const e=this.float()*t;return Math.round(e)}choice(t){if(t)return t[this.intN(t.length)]}rndStr(){return Math.random().toString(36).substr(2,5)}randomString(t){if(t<1)return"";const e=[];let n=t;for(;n>0;){const t=this.rndStr();n-=t.length,e.push(t)}return e.join("").substr(0,t)}}var Et=n("Wgwc");class St{constructor(){this.dayjs=Et}}var Dt=n("FFbo");let Mt=(()=>{class t{csvStringify(e,n,r,i){return e?(r||(r=t.DELIMITER),i||(i=t.NEWLINE),n||(n=t=>""+t),e.map(t=>t.map(t=>n(t)).join(r)).join(i)):""}csvParse(e,n){return e?(n||(n=t.DELIMITER),e.split(/[\n|\r\n]/g).map(t=>t.trim()).filter(t=>!!t).map(t=>t.split(n).map(t=>t.trim()))):[]}xmlParse(e,n,r){return r||(r=t.XML_MIME_TYPE),new Dt.DOMParser(n).parseFromString(e,r)}numberToLocal(e){return t.NF.format(e)}}return t.NEWLINE="\n",t.DELIMITER=";",t.XML_MIME_TYPE="application/xml",t.NF=new Intl.NumberFormat(void 0,{maximumFractionDigits:20}),t})();class Tt{constructor(t){this.execution=t,this.io=new Mt}get context(){return this.execution.context()}progress(t){t=ot(0,t,1),this.execution.progress(t)}}class _t extends J{constructor(t,e,n){super(t,e,n)}internalExecute(){return b(this,void 0,void 0,(function*(){const t=yield this.createFunction();try{this.result=yield t()}catch(e){throw e.component=this.nodeData.name,e}}))}createSquishy(){return b(this,void 0,void 0,(function*(){return new Tt(this.execution)}))}createPlugins(){return b(this,void 0,void 0,(function*(){return new St}))}createFunction(){return b(this,void 0,void 0,(function*(){const t=yield this.variables(),e=yield this.createStaticVariables();t.push(...e);const n=t.map(t=>t.name),r=this.getNodeData().script,i=new Function(...n,r);return()=>b(this,void 0,void 0,(function*(){const e=t.map(t=>t.value);return yield i.call({},...e)}))}))}createStaticVariables(){return b(this,void 0,void 0,(function*(){const t=yield this.createSquishy(),e=yield this.createPlugins();return[{name:"Squishy",value:t},{name:"Mathf",value:r},{name:"Plugins",value:e}]}))}variables(){return b(this,void 0,void 0,(function*(){return yield Promise.all(X.mapProperties(this.getNodeData().variables,(t,e)=>b(this,void 0,void 0,(function*(){return yield this.createVariable(e,t)}))))}))}createVariable(t,e){return b(this,void 0,void 0,(function*(){const n=yield this.getExecutor(t);if(X.isNullOrUndefined(n))throw new Error(`unable to find node executor [ ${n.id()} ] for id [ ${t} ] and variable [ ${e} ]`);if(!n.isExecuted())throw new Error(`node executor [ ${n.id()} ] for variable [ ${e}, ${t} ] is not yet executed`);const r=n.getResult();return{name:e,value:r}}))}}var Ot=function(t){return t.PlainText="plaintext",t.Json="json",t}({});class zt extends J{constructor(t,e,n){super(t,e,n)}internalExecute(){return b(this,void 0,void 0,(function*(){this.result=void 0;const t=this.getInputType();t===Ot.PlainText?yield this.executeAsPlainText():t===Ot.Json&&(yield this.executeAsJson())}))}executeAsPlainText(){return b(this,void 0,void 0,(function*(){X.isNullOrUndefined(this.executionData)||(this.result=""+this.executionData)}))}executeAsJson(){return b(this,void 0,void 0,(function*(){X.isNullOrUndefined(this.executionData)||(this.result=JSON.parse(""+this.executionData))}))}getInputType(){const t=this.getNodeData();return t&&t.inputType?t.inputType:Ot.PlainText}}class It{constructor(t){this.execution=t,this.init()}init(){this.factoryFunction=new Map,this.factoryFunction.set(G.Chart,this.createChart),this.factoryFunction.set(G.Script,this.createScript),this.factoryFunction.set(G.FileInput,this.createFileInput),this.factoryFunction.set(G.TextInput,this.createTextInput),this.factoryFunction.set(G.FileOutput,this.createFileOutput)}create(t,e){return b(this,void 0,void 0,(function*(){const n=t.data.type,r=this.factoryFunction.get(n);if(X.isNullOrUndefined(r))throw new Error(`unable to find node executor factory for type [ ${n} ]`);return yield r.call(this,t,e)}))}createFileInput(t,e){return b(this,void 0,void 0,(function*(){return new nt(this.execution,t,e)}))}createScript(t,e){return b(this,void 0,void 0,(function*(){return new _t(this.execution,t,e)}))}createFileOutput(t,e){return b(this,void 0,void 0,(function*(){return new rt(this.execution,t,e)}))}createTextInput(t,e){return b(this,void 0,void 0,(function*(){return new zt(this.execution,t,e)}))}createChart(t,e){return b(this,void 0,void 0,(function*(){return new K(this.execution,t,e)}))}}class At{constructor(t){this._status=t,this._context={},this._executed=0,this._progress=0,this.nodeExecutors=new Map}getExecutor(t){return b(this,void 0,void 0,(function*(){if(this.nodeExecutors.has(t))return this.nodeExecutors.get(t)}))}context(){return this._context}progress(t,e){const n=1/this.nodeExecutors.size;this._progress=n*this._executed+n*t,(Date.now()-this._lastUpdate>500||e)&&(this._lastUpdate=Date.now(),this.status(Q.RUNNING))}load(t,e){return b(this,void 0,void 0,(function*(){const n=new It(this);yield Promise.all(X.getNodesData(t).map(t=>b(this,void 0,void 0,(function*(){if(X.isNullOrUndefined(t)||X.isNullOrUndefined(t.data))return;const r=t.data.id,i=e[r],s=yield n.create(t,i);this.nodeExecutors.set(r,s)}))))}))}execute(){return b(this,void 0,void 0,(function*(){const t=Date.now();this._lastUpdate=t,this.progress(0,!0),yield this.run([]);const e=yield this.getOutputs();return this.status(Q.RESPONSE),{outputs:e,time:Date.now()-t}}))}run(t){return b(this,void 0,void 0,(function*(){t.length>0?yield this.executorRunnable(t):yield this.inspectRunnableNodes(t)}))}executorRunnable(t){return b(this,void 0,void 0,(function*(){const e=t.shift(),n=this.nodeExecutors.get(e);return yield n.execute(),this._executed++,this.progress(0,!0),this.tick(t)}))}inspectRunnableNodes(t){return b(this,void 0,void 0,(function*(){const e=[];if(this.nodeExecutors.forEach(t=>{t.isExecuted()||e.push(t)}),yield Promise.all(e.map(e=>b(this,void 0,void 0,(function*(){if(yield e.isExecuteable()){const n=e.id();t.push(n)}})))),t.length>0)return this.tick(t)}))}tick(t){return b(this,void 0,void 0,(function*(){return new Promise((e,n)=>{setTimeout(()=>{this.run(t).then(e,n)})})}))}getOutputs(){return b(this,void 0,void 0,(function*(){this.status(Q.COLLECTING);const t={};return this.nodeExecutors.forEach(e=>{if(!e.hasOutput())return;const n=e.id();t[n]=e.getResult()}),t}))}status(t){const e=this.nodeExecutors.size,n=Math.round(100*this._progress);this._status.next({total:e,state:t,progress:n,executed:this._executed})}}h(class{constructor(){this._status=new F}execute(t,e){return b(this,void 0,void 0,(function*(){try{return this._status.next({total:0,executed:0,progress:0,state:Q.INITIALIZING}),this.execution=new At(this._status),yield this.execution.load(t,e),yield this.execution.execute()}finally{this.execution=void 0}}))}subscribe(t){return b(this,void 0,void 0,(function*(){this._status.subscribe(e=>b(this,void 0,void 0,(function*(){t&&(yield t(e))})))}))}})},FFbo:function(t,e,n){function r(t){this.options=t||{locator:{}}}function i(){this.cdata=!1}function s(t,e){e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber}function o(t){if(t)return"\n@"+(t.systemId||"")+"#[line:"+t.lineNumber+",col:"+t.columnNumber+"]"}function a(t,e,n){return"string"==typeof t?t.substr(e,n):t.length>=e+n||e?new java.lang.String(t,e,n)+"":t}function u(t,e){t.currentElement?t.currentElement.appendChild(e):t.doc.appendChild(e)}r.prototype.parseFromString=function(t,e){var n=this.options,r=new h,s=n.domBuilder||new i,a=n.errorHandler,u=n.locator,l=n.xmlns||{},d=/\/x?html?$/.test(e),f=d?c.entityMap:{lt:"<",gt:">",amp:"&",quot:'"',apos:"'"};return u&&s.setDocumentLocator(u),r.errorHandler=function(t,e,n){if(!t){if(e instanceof i)return e;t=e}var r={},s=t instanceof Function;function a(e){var i=t[e];!i&&s&&(i=2==t.length?function(n){t(e,n)}:t),r[e]=i&&function(t){i("[xmldom "+e+"]\t"+t+o(n))}||function(){}}return n=n||{},a("warning"),a("error"),a("fatalError"),r}(a,s,u),r.domBuilder=n.domBuilder||s,d&&(l[""]="http://www.w3.org/1999/xhtml"),l.xml=l.xml||"http://www.w3.org/XML/1998/namespace",t?r.parse(t,l,f):r.errorHandler.error("invalid doc source"),s.doc},i.prototype={startDocument:function(){this.doc=(new l).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(t,e,n,r){var i=this.doc,o=i.createElementNS(t,n||e),a=r.length;u(this,o),this.currentElement=o,this.locator&&s(this.locator,o);for(var c=0;c<a;c++){t=r.getURI(c);var h=r.getValue(c),l=(n=r.getQName(c),i.createAttributeNS(t,n));this.locator&&s(r.getLocator(c),l),l.value=l.nodeValue=h,o.setAttributeNode(l)}},endElement:function(t,e,n){this.currentElement=this.currentElement.parentNode},startPrefixMapping:function(t,e){},endPrefixMapping:function(t){},processingInstruction:function(t,e){var n=this.doc.createProcessingInstruction(t,e);this.locator&&s(this.locator,n),u(this,n)},ignorableWhitespace:function(t,e,n){},characters:function(t,e,n){if(t=a.apply(this,arguments)){if(this.cdata)var r=this.doc.createCDATASection(t);else r=this.doc.createTextNode(t);this.currentElement?this.currentElement.appendChild(r):/^\s*$/.test(t)&&this.doc.appendChild(r),this.locator&&s(this.locator,r)}},skippedEntity:function(t){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(t){(this.locator=t)&&(t.lineNumber=0)},comment:function(t,e,n){t=a.apply(this,arguments);var r=this.doc.createComment(t);this.locator&&s(this.locator,r),u(this,r)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,e,n){var r=this.doc.implementation;if(r&&r.createDocumentType){var i=r.createDocumentType(t,e,n);this.locator&&s(this.locator,i),u(this,i)}},warning:function(t){console.warn("[xmldom warning]\t"+t,o(this.locator))},error:function(t){console.error("[xmldom error]\t"+t,o(this.locator))},fatalError:function(t){throw console.error("[xmldom fatalError]\t"+t,o(this.locator)),t}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,(function(t){i.prototype[t]=function(){return null}}));var c=n("1KK4"),h=n("j3u8").XMLReader,l=e.DOMImplementation=n("wd0O").DOMImplementation;e.XMLSerializer=n("wd0O").XMLSerializer,e.DOMParser=r},Wgwc:function(t,e,n){t.exports=function(){"use strict";var t="millisecond",e="second",n="minute",r="hour",i="day",s="week",o="month",a="quarter",u="year",c="date",h=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?.?(\d+)?$/,l=/\[([^\]]+)]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,d=function(t,e,n){var r=String(t);return!r||r.length>=e?t:""+Array(e+1-r.length).join(n)+t},f={s:d,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e<=0?"+":"-")+d(r,2,"0")+":"+d(i,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),i=e.clone().add(r,o),s=n-i<0,a=e.clone().add(r+(s?-1:1),o);return+(-(r+(n-i)/(s?i-a:a-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(h){return{M:o,y:u,w:s,d:i,D:c,h:r,m:n,s:e,ms:t,Q:a}[h]||String(h||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},p={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},m="en",y={};y[m]=p;var g=function(t){return t instanceof v},b=function(t,e,n){var r;if(!t)return m;if("string"==typeof t)y[t]&&(r=t),e&&(y[t]=e,r=t);else{var i=t.name;y[i]=t,r=i}return!n&&r&&(m=r),r||!n&&m},x=function(t,e){if(g(t))return t.clone();var n="object"==typeof e?e:{};return n.date=t,n.args=arguments,new v(n)},w=f;w.l=b,w.i=g,w.w=function(t,e){return x(t,{locale:e.$L,utc:e.$u,$offset:e.$offset})};var v=function(){function d(t){this.$L=this.$L||b(t.locale,null,!0),this.parse(t)}var f=d.prototype;return f.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(w.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var r=e.match(h);if(r){var i=r[2]-1||0,s=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)}}return new Date(e)}(t),this.init()},f.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},f.$utils=function(){return w},f.isValid=function(){return!("Invalid Date"===this.$d.toString())},f.isSame=function(t,e){var n=x(t);return this.startOf(e)<=n&&n<=this.endOf(e)},f.isAfter=function(t,e){return x(t)<this.startOf(e)},f.isBefore=function(t,e){return this.endOf(e)<x(t)},f.$g=function(t,e,n){return w.u(t)?this[e]:this.set(n,t)},f.unix=function(){return Math.floor(this.valueOf()/1e3)},f.valueOf=function(){return this.$d.getTime()},f.startOf=function(t,a){var h=this,l=!!w.u(a)||a,d=w.p(t),f=function(t,e){var n=w.w(h.$u?Date.UTC(h.$y,e,t):new Date(h.$y,e,t),h);return l?n:n.endOf(i)},p=function(t,e){return w.w(h.toDate()[t].apply(h.toDate("s"),(l?[0,0,0,0]:[23,59,59,999]).slice(e)),h)},m=this.$W,y=this.$M,g=this.$D,b="set"+(this.$u?"UTC":"");switch(d){case u:return l?f(1,0):f(31,11);case o:return l?f(1,y):f(0,y+1);case s:var x=this.$locale().weekStart||0,v=(m<x?m+7:m)-x;return f(l?g-v:g+(6-v),y);case i:case c:return p(b+"Hours",0);case r:return p(b+"Minutes",1);case n:return p(b+"Seconds",2);case e:return p(b+"Milliseconds",3);default:return this.clone()}},f.endOf=function(t){return this.startOf(t,!1)},f.$set=function(s,a){var h,l=w.p(s),d="set"+(this.$u?"UTC":""),f=(h={},h[i]=d+"Date",h[c]=d+"Date",h[o]=d+"Month",h[u]=d+"FullYear",h[r]=d+"Hours",h[n]=d+"Minutes",h[e]=d+"Seconds",h[t]=d+"Milliseconds",h)[l],p=l===i?this.$D+(a-this.$W):a;if(l===o||l===u){var m=this.clone().set(c,1);m.$d[f](p),m.init(),this.$d=m.set(c,Math.min(this.$D,m.daysInMonth())).$d}else f&&this.$d[f](p);return this.init(),this},f.set=function(t,e){return this.clone().$set(t,e)},f.get=function(t){return this[w.p(t)]()},f.add=function(t,a){var c,h=this;t=Number(t);var l=w.p(a),d=function(e){var n=x(h);return w.w(n.date(n.date()+Math.round(e*t)),h)};if(l===o)return this.set(o,this.$M+t);if(l===u)return this.set(u,this.$y+t);if(l===i)return d(1);if(l===s)return d(7);var f=(c={},c[n]=6e4,c[r]=36e5,c[e]=1e3,c)[l]||1,p=this.$d.getTime()+t*f;return w.w(p,this)},f.subtract=function(t,e){return this.add(-1*t,e)},f.format=function(t){var e=this;if(!this.isValid())return"Invalid Date";var n=t||"YYYY-MM-DDTHH:mm:ssZ",r=w.z(this),i=this.$locale(),s=this.$H,o=this.$m,a=this.$M,u=i.weekdays,c=i.months,h=function(t,r,i,s){return t&&(t[r]||t(e,n))||i[r].substr(0,s)},d=function(t){return w.s(s%12||12,t,"0")},f=i.meridiem||function(t,e,n){var r=t<12?"AM":"PM";return n?r.toLowerCase():r},p={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:w.s(a+1,2,"0"),MMM:h(i.monthsShort,a,c,3),MMMM:h(c,a),D:this.$D,DD:w.s(this.$D,2,"0"),d:String(this.$W),dd:h(i.weekdaysMin,this.$W,u,2),ddd:h(i.weekdaysShort,this.$W,u,3),dddd:u[this.$W],H:String(s),HH:w.s(s,2,"0"),h:d(1),hh:d(2),a:f(s,o,!0),A:f(s,o,!1),m:String(o),mm:w.s(o,2,"0"),s:String(this.$s),ss:w.s(this.$s,2,"0"),SSS:w.s(this.$ms,3,"0"),Z:r};return n.replace(l,(function(t,e){return e||p[t]||r.replace(":","")}))},f.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},f.diff=function(t,c,h){var l,d=w.p(c),f=x(t),p=6e4*(f.utcOffset()-this.utcOffset()),m=this-f,y=w.m(this,f);return y=(l={},l[u]=y/12,l[o]=y,l[a]=y/3,l[s]=(m-p)/6048e5,l[i]=(m-p)/864e5,l[r]=m/36e5,l[n]=m/6e4,l[e]=m/1e3,l)[d]||m,h?y:w.a(y)},f.daysInMonth=function(){return this.endOf(o).$D},f.$locale=function(){return y[this.$L]},f.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=b(t,e,!0);return r&&(n.$L=r),n},f.clone=function(){return w.w(this.$d,this)},f.toDate=function(){return new Date(this.valueOf())},f.toJSON=function(){return this.isValid()?this.toISOString():null},f.toISOString=function(){return this.$d.toISOString()},f.toString=function(){return this.$d.toUTCString()},d}(),N=v.prototype;return x.prototype=N,[["$ms",t],["$s",e],["$m",n],["$H",r],["$W",i],["$M",o],["$y",u],["$D",c]].forEach((function(t){N[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),x.extend=function(t,e){return t(e,v,x),x},x.locale=b,x.isDayjs=g,x.unix=function(t){return x(1e3*t)},x.en=y[m],x.Ls=y,x}()},j3u8:function(t,e){var n=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,r=new RegExp("[\\-\\.0-9"+n.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),i=new RegExp("^"+n.source+r.source+"*(?::"+n.source+r.source+"*)?$");function s(){}function o(t,e){return e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber,e}function a(t,e,n,r,i,s){for(var o,a=++e,u=0;;){var c=t.charAt(a);switch(c){case"=":if(1===u)o=t.slice(e,a),u=3;else{if(2!==u)throw new Error("attribute equal must after attrName");u=3}break;case"'":case'"':if(3===u||1===u){if(1===u&&(s.warning('attribute value must after "="'),o=t.slice(e,a)),!((a=t.indexOf(c,e=a+1))>0))throw new Error("attribute value no end '"+c+"' match");h=t.slice(e,a).replace(/&#?\w+;/g,i),n.add(o,h,e-1),u=5}else{if(4!=u)throw new Error('attribute value must after "="');h=t.slice(e,a).replace(/&#?\w+;/g,i),n.add(o,h,e),s.warning('attribute "'+o+'" missed start quot('+c+")!!"),e=a+1,u=5}break;case"/":switch(u){case 0:n.setTagName(t.slice(e,a));case 5:case 6:case 7:u=7,n.closed=!0;case 4:case 1:case 2:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return s.error("unexpected end of input"),0==u&&n.setTagName(t.slice(e,a)),a;case">":switch(u){case 0:n.setTagName(t.slice(e,a));case 5:case 6:case 7:break;case 4:case 1:"/"===(h=t.slice(e,a)).slice(-1)&&(n.closed=!0,h=h.slice(0,-1));case 2:2===u&&(h=o),4==u?(s.warning('attribute "'+h+'" missed quot(")!!'),n.add(o,h.replace(/&#?\w+;/g,i),e)):("http://www.w3.org/1999/xhtml"===r[""]&&h.match(/^(?:disabled|checked|selected)$/i)||s.warning('attribute "'+h+'" missed value!! "'+h+'" instead!!'),n.add(h,h,e));break;case 3:throw new Error("attribute value missed!!")}return a;case"\x80":c=" ";default:if(c<=" ")switch(u){case 0:n.setTagName(t.slice(e,a)),u=6;break;case 1:o=t.slice(e,a),u=2;break;case 4:var h=t.slice(e,a).replace(/&#?\w+;/g,i);s.warning('attribute "'+h+'" missed quot(")!!'),n.add(o,h,e);case 5:u=6}else switch(u){case 2:"http://www.w3.org/1999/xhtml"===r[""]&&o.match(/^(?:disabled|checked|selected)$/i)||s.warning('attribute "'+o+'" missed value!! "'+o+'" instead2!!'),n.add(o,o,e),e=a,u=1;break;case 5:s.warning('attribute space is required"'+o+'"!!');case 6:u=1,e=a;break;case 3:u=4,e=a;break;case 7:throw new Error("elements closed character '/' and '>' must be connected to")}}a++}}function u(t,e,n){for(var r=t.tagName,i=null,s=t.length;s--;){var o=t[s],a=o.qName,u=o.value;if((f=a.indexOf(":"))>0)var c=o.prefix=a.slice(0,f),h=a.slice(f+1),d="xmlns"===c&&h;else h=a,c=null,d="xmlns"===a&&"";o.localName=h,!1!==d&&(null==i&&(i={},l(n,n={})),n[d]=i[d]=u,o.uri="http://www.w3.org/2000/xmlns/",e.startPrefixMapping(d,u))}for(s=t.length;s--;)(c=(o=t[s]).prefix)&&("xml"===c&&(o.uri="http://www.w3.org/XML/1998/namespace"),"xmlns"!==c&&(o.uri=n[c||""]));var f;(f=r.indexOf(":"))>0?(c=t.prefix=r.slice(0,f),h=t.localName=r.slice(f+1)):(c=null,h=t.localName=r);var p=t.uri=n[c||""];if(e.startElement(p,h,r,t),!t.closed)return t.currentNSMap=n,t.localNSMap=i,!0;if(e.endElement(p,h,r),i)for(c in i)e.endPrefixMapping(c)}function c(t,e,n,r,i){if(/^(?:script|textarea)$/i.test(n)){var s=t.indexOf("</"+n+">",e),o=t.substring(e+1,s);if(/[&<]/.test(o))return/^script$/i.test(n)?(i.characters(o,0,o.length),s):(o=o.replace(/&#?\w+;/g,r),i.characters(o,0,o.length),s)}return e+1}function h(t,e,n,r){var i=r[n];return null==i&&((i=t.lastIndexOf("</"+n+">"))<e&&(i=t.lastIndexOf("</"+n)),r[n]=i),i<e}function l(t,e){for(var n in t)e[n]=t[n]}function d(t,e,n,r){switch(t.charAt(e+2)){case"-":return"-"===t.charAt(e+3)?(i=t.indexOf("--\x3e",e+4))>e?(n.comment(t,e+4,i-e-4),i+3):(r.error("Unclosed comment"),-1):-1;default:if("CDATA["==t.substr(e+3,6)){var i=t.indexOf("]]>",e+9);return n.startCDATA(),n.characters(t,e+9,i-e-9),n.endCDATA(),i+3}var s=function(t,e){var n,r=[],i=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(i.lastIndex=e,i.exec(t);n=i.exec(t);)if(r.push(n),n[1])return r}(t,e),o=s.length;if(o>1&&/!doctype/i.test(s[0][0])){var a=s[1][0],u=o>3&&/^public$/i.test(s[2][0])&&s[3][0],c=o>4&&s[4][0],h=s[o-1];return n.startDTD(a,u&&u.replace(/^(['"])(.*?)\1$/,"$2"),c&&c.replace(/^(['"])(.*?)\1$/,"$2")),n.endDTD(),h.index+h[0].length}}return-1}function f(t,e,n){var r=t.indexOf("?>",e);if(r){var i=t.substring(e,r).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return i?(n.processingInstruction(i[1],i[2]),r+2):-1}return-1}function p(t){}s.prototype={parse:function(t,e,n){var r=this.domBuilder;r.startDocument(),l(e,e={}),function(t,e,n,r,i){function s(t){var e,r=t.slice(1,-1);return r in n?n[r]:"#"===r.charAt(0)?(e=parseInt(r.substr(1).replace("x","0x")))>65535?(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e))):String.fromCharCode(e):(i.error("entity not found:"+t),t)}function l(e){if(e>N){var n=t.substring(N,e).replace(/&#?\w+;/g,s);x&&m(N),r.characters(n,0,e-N),N=e}}function m(e,n){for(;e>=g&&(n=b.exec(t));)g=(y=n.index)+n[0].length,x.lineNumber++;x.columnNumber=e-y+1}for(var y=0,g=0,b=/.*(?:\r\n?|\n)|.*$/g,x=r.locator,w=[{currentNSMap:e}],v={},N=0;;){try{var E=t.indexOf("<",N);if(E<0){if(!t.substr(N).match(/^\s*$/)){var S=r.doc,D=S.createTextNode(t.substr(N));S.appendChild(D),r.currentElement=D}return}switch(E>N&&l(E),t.charAt(E+1)){case"/":var M=t.indexOf(">",E+3),T=t.substring(E+2,M),_=w.pop();M<0?(T=t.substring(E+2).replace(/[\s<].*/,""),i.error("end tag name: "+T+" is not complete:"+_.tagName),M=E+1+T.length):T.match(/\s</)&&(T=T.replace(/[\s<].*/,""),i.error("end tag name: "+T+" maybe not complete"),M=E+1+T.length);var O=_.localNSMap,z=_.tagName==T;if(z||_.tagName&&_.tagName.toLowerCase()==T.toLowerCase()){if(r.endElement(_.uri,_.localName,T),O)for(var I in O)r.endPrefixMapping(I);z||i.fatalError("end tag name: "+T+" is not match the current start tagName:"+_.tagName)}else w.push(_);M++;break;case"?":x&&m(E),M=f(t,E,r);break;case"!":x&&m(E),M=d(t,E,r,i);break;default:x&&m(E);var A=new p,C=w[w.length-1].currentNSMap,$=(M=a(t,E,A,C,s,i),A.length);if(!A.closed&&h(t,M,A.tagName,v)&&(A.closed=!0,n.nbsp||i.warning("unclosed xml attribute")),x&&$){for(var P=o(x,{}),R=0;R<$;R++){var U=A[R];m(U.offset),U.locator=o(x,{})}r.locator=P,u(A,r,C)&&w.push(A),r.locator=x}else u(A,r,C)&&w.push(A);"http://www.w3.org/1999/xhtml"!==A.uri||A.closed?M++:M=c(t,M,A.tagName,s,r)}}catch(F){i.error("element parse error: "+F),M=-1}M>N?N=M:l(Math.max(E,N)+1)}}(t,e,n,r,this.errorHandler),r.endDocument()}},p.prototype={setTagName:function(t){if(!i.test(t))throw new Error("invalid tagName:"+t);this.tagName=t},add:function(t,e,n){if(!i.test(t))throw new Error("invalid attribute:"+t);this[this.length++]={qName:t,value:e,offset:n}},length:0,getLocalName:function(t){return this[t].localName},getLocator:function(t){return this[t].locator},getQName:function(t){return this[t].qName},getURI:function(t){return this[t].uri},getValue:function(t){return this[t].value}},e.XMLReader=s},wd0O:function(t,e){function n(t,e){for(var n in t)e[n]=t[n]}function r(t,e){var r=t.prototype;if(!(r instanceof e)){function i(){}i.prototype=e.prototype,n(r,i=new i),t.prototype=r=i}r.constructor!=t&&("function"!=typeof t&&console.error("unknow Class:"+t),r.constructor=t)}var i={},s=i.ELEMENT_NODE=1,o=i.ATTRIBUTE_NODE=2,a=i.TEXT_NODE=3,u=i.CDATA_SECTION_NODE=4,c=i.ENTITY_REFERENCE_NODE=5,h=i.ENTITY_NODE=6,l=i.PROCESSING_INSTRUCTION_NODE=7,d=i.COMMENT_NODE=8,f=i.DOCUMENT_NODE=9,p=i.DOCUMENT_TYPE_NODE=10,m=i.DOCUMENT_FRAGMENT_NODE=11,y=i.NOTATION_NODE=12,g={},b={},x=(g.INDEX_SIZE_ERR=(b[1]="Index size error",1),g.DOMSTRING_SIZE_ERR=(b[2]="DOMString size error",2),g.HIERARCHY_REQUEST_ERR=(b[3]="Hierarchy request error",3)),w=(g.WRONG_DOCUMENT_ERR=(b[4]="Wrong document",4),g.INVALID_CHARACTER_ERR=(b[5]="Invalid character",5),g.NO_DATA_ALLOWED_ERR=(b[6]="No data allowed",6),g.NO_MODIFICATION_ALLOWED_ERR=(b[7]="No modification allowed",7),g.NOT_FOUND_ERR=(b[8]="Not found",8)),v=(g.NOT_SUPPORTED_ERR=(b[9]="Not supported",9),g.INUSE_ATTRIBUTE_ERR=(b[10]="Attribute in use",10));function N(t,e){if(e instanceof Error)var n=e;else n=this,Error.call(this,b[t]),this.message=b[t],Error.captureStackTrace&&Error.captureStackTrace(this,N);return n.code=t,e&&(this.message=this.message+": "+e),n}function E(){}function S(t,e){this._node=t,this._refresh=e,D(this)}function D(t){var e=t._node._inc||t._node.ownerDocument._inc;if(t._inc!=e){var r=t._refresh(t._node);et(t,"length",r.length),n(r,t),t._inc=e}}function M(){}function T(t,e){for(var n=t.length;n--;)if(t[n]===e)return n}function _(t,e,n,r){if(r?e[T(e,r)]=n:e[e.length++]=n,t){n.ownerElement=t;var i=t.ownerDocument;i&&(r&&P(i,t,r),function(t,e,n){t&&t._inc++,"http://www.w3.org/2000/xmlns/"==n.namespaceURI&&(e._nsMap[n.prefix?n.localName:""]=n.value)}(i,t,n))}}function O(t,e,n){var r=T(e,n);if(!(r>=0))throw N(w,new Error(t.tagName+"@"+n));for(var i=e.length-1;r<i;)e[r]=e[++r];if(e.length=i,t){var s=t.ownerDocument;s&&(P(s,t,n),n.ownerElement=null)}}function z(t){if(this._features={},t)for(var e in t)this._features=t[e]}function I(){}function A(t){return("<"==t?"&lt;":">"==t&&"&gt;")||"&"==t&&"&amp;"||'"'==t&&"&quot;"||"&#"+t.charCodeAt()+";"}function C(t,e){if(e(t))return!0;if(t=t.firstChild)do{if(C(t,e))return!0}while(t=t.nextSibling)}function $(){}function P(t,e,n,r){t&&t._inc++,"http://www.w3.org/2000/xmlns/"==n.namespaceURI&&delete e._nsMap[n.prefix?n.localName:""]}function R(t,e,n){if(t&&t._inc){t._inc++;var r=e.childNodes;if(n)r[r.length++]=n;else{for(var i=e.firstChild,s=0;i;)r[s++]=i,i=i.nextSibling;r.length=s}}}function U(t,e){var n=e.previousSibling,r=e.nextSibling;return n?n.nextSibling=r:t.firstChild=r,r?r.previousSibling=n:t.lastChild=n,R(t.ownerDocument,t),e}function F(t,e,n){var r=e.parentNode;if(r&&r.removeChild(e),e.nodeType===m){var i=e.firstChild;if(null==i)return e;var s=e.lastChild}else i=s=e;var o=n?n.previousSibling:t.lastChild;i.previousSibling=o,s.nextSibling=n,o?o.nextSibling=i:t.firstChild=i,null==n?t.lastChild=s:n.previousSibling=s;do{i.parentNode=t}while(i!==s&&(i=i.nextSibling));return R(t.ownerDocument||t,t),e.nodeType==m&&(e.firstChild=e.lastChild=null),e}function W(){this._nsMap={}}function q(){}function L(){}function k(){}function j(){}function V(){}function H(){}function Y(){}function B(){}function X(){}function Q(){}function G(){}function Z(){}function J(t,e){var n=[],r=9==this.nodeType&&this.documentElement||this,i=r.prefix,s=r.namespaceURI;if(s&&null==i&&null==(i=r.lookupPrefix(s)))var o=[{namespace:s,prefix:null}];return tt(this,n,t,e,o),n.join("")}function K(t,e,n){var r=t.prefix||"",i=t.namespaceURI;if(!r&&!i)return!1;if("xml"===r&&"http://www.w3.org/XML/1998/namespace"===i||"http://www.w3.org/2000/xmlns/"==i)return!1;for(var s=n.length;s--;){var o=n[s];if(o.prefix==r)return o.namespace!=i}return!0}function tt(t,e,n,r,i){if(r){if(!(t=r(t)))return;if("string"==typeof t)return void e.push(t)}switch(t.nodeType){case s:i||(i=[]);var h=t.attributes,y=h.length,g=t.firstChild,b=t.tagName;n="http://www.w3.org/1999/xhtml"===t.namespaceURI||n,e.push("<",b);for(var x=0;x<y;x++)"xmlns"==(w=h.item(x)).prefix?i.push({prefix:w.localName,namespace:w.value}):"xmlns"==w.nodeName&&i.push({prefix:"",namespace:w.value});for(x=0;x<y;x++){var w,v,N;K(w=h.item(x),0,i)&&(e.push((v=w.prefix||"")?" xmlns:"+v:" xmlns",'="',N=w.namespaceURI,'"'),i.push({prefix:v,namespace:N})),tt(w,e,n,r,i)}if(K(t,0,i)&&(e.push((v=t.prefix||"")?" xmlns:"+v:" xmlns",'="',N=t.namespaceURI,'"'),i.push({prefix:v,namespace:N})),g||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(b)){if(e.push(">"),n&&/^script$/i.test(b))for(;g;)g.data?e.push(g.data):tt(g,e,n,r,i),g=g.nextSibling;else for(;g;)tt(g,e,n,r,i),g=g.nextSibling;e.push("</",b,">")}else e.push("/>");return;case f:case m:for(g=t.firstChild;g;)tt(g,e,n,r,i),g=g.nextSibling;return;case o:return e.push(" ",t.name,'="',t.value.replace(/[<&"]/g,A),'"');case a:return e.push(t.data.replace(/[<&]/g,A));case u:return e.push("<![CDATA[",t.data,"]]>");case d:return e.push("\x3c!--",t.data,"--\x3e");case p:var E=t.publicId,S=t.systemId;if(e.push("<!DOCTYPE ",t.name),E)e.push(' PUBLIC "',E),S&&"."!=S&&e.push('" "',S),e.push('">');else if(S&&"."!=S)e.push(' SYSTEM "',S,'">');else{var D=t.internalSubset;D&&e.push(" [",D,"]"),e.push(">")}return;case l:return e.push("<?",t.target," ",t.data,"?>");case c:return e.push("&",t.nodeName,";");default:e.push("??",t.nodeName)}}function et(t,e,n){t[e]=n}g.INVALID_STATE_ERR=(b[11]="Invalid state",11),g.SYNTAX_ERR=(b[12]="Syntax error",12),g.INVALID_MODIFICATION_ERR=(b[13]="Invalid modification",13),g.NAMESPACE_ERR=(b[14]="Invalid namespace",14),g.INVALID_ACCESS_ERR=(b[15]="Invalid access",15),N.prototype=Error.prototype,n(g,N),E.prototype={length:0,item:function(t){return this[t]||null},toString:function(t,e){for(var n=[],r=0;r<this.length;r++)tt(this[r],n,t,e);return n.join("")}},S.prototype.item=function(t){return D(this),this[t]},r(S,E),M.prototype={length:0,item:E.prototype.item,getNamedItem:function(t){for(var e=this.length;e--;){var n=this[e];if(n.nodeName==t)return n}},setNamedItem:function(t){var e=t.ownerElement;if(e&&e!=this._ownerElement)throw new N(v);var n=this.getNamedItem(t.nodeName);return _(this._ownerElement,this,t,n),n},setNamedItemNS:function(t){var e,n=t.ownerElement;if(n&&n!=this._ownerElement)throw new N(v);return e=this.getNamedItemNS(t.namespaceURI,t.localName),_(this._ownerElement,this,t,e),e},removeNamedItem:function(t){var e=this.getNamedItem(t);return O(this._ownerElement,this,e),e},removeNamedItemNS:function(t,e){var n=this.getNamedItemNS(t,e);return O(this._ownerElement,this,n),n},getNamedItemNS:function(t,e){for(var n=this.length;n--;){var r=this[n];if(r.localName==e&&r.namespaceURI==t)return r}return null}},z.prototype={hasFeature:function(t,e){var n=this._features[t.toLowerCase()];return!(!n||e&&!(e in n))},createDocument:function(t,e,n){var r=new $;if(r.implementation=this,r.childNodes=new E,r.doctype=n,n&&r.appendChild(n),e){var i=r.createElementNS(t,e);r.appendChild(i)}return r},createDocumentType:function(t,e,n){var r=new H;return r.name=t,r.nodeName=t,r.publicId=e,r.systemId=n,r}},I.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(t,e){return F(this,t,e)},replaceChild:function(t,e){this.insertBefore(t,e),e&&this.removeChild(e)},removeChild:function(t){return U(this,t)},appendChild:function(t){return this.insertBefore(t,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(t){return function t(e,n,r){var i=new n.constructor;for(var a in n){var u=n[a];"object"!=typeof u&&u!=i[a]&&(i[a]=u)}switch(n.childNodes&&(i.childNodes=new E),i.ownerDocument=e,i.nodeType){case s:var c=n.attributes,h=i.attributes=new M,l=c.length;h._ownerElement=i;for(var d=0;d<l;d++)i.setAttributeNode(t(e,c.item(d),!0));break;case o:r=!0}if(r)for(var f=n.firstChild;f;)i.appendChild(t(e,f,r)),f=f.nextSibling;return i}(this.ownerDocument||this,this,t)},normalize:function(){for(var t=this.firstChild;t;){var e=t.nextSibling;e&&e.nodeType==a&&t.nodeType==a?(this.removeChild(e),t.appendData(e.data)):(t.normalize(),t=e)}},isSupported:function(t,e){return this.ownerDocument.implementation.hasFeature(t,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(t){for(var e=this;e;){var n=e._nsMap;if(n)for(var r in n)if(n[r]==t)return r;e=e.nodeType==o?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(t){for(var e=this;e;){var n=e._nsMap;if(n&&t in n)return n[t];e=e.nodeType==o?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(t){return null==this.lookupPrefix(t)}},n(i,I),n(i,I.prototype),$.prototype={nodeName:"#document",nodeType:f,doctype:null,documentElement:null,_inc:1,insertBefore:function(t,e){if(t.nodeType==m){for(var n=t.firstChild;n;){var r=n.nextSibling;this.insertBefore(n,e),n=r}return t}return null==this.documentElement&&t.nodeType==s&&(this.documentElement=t),F(this,t,e),t.ownerDocument=this,t},removeChild:function(t){return this.documentElement==t&&(this.documentElement=null),U(this,t)},importNode:function(t,e){return function t(e,n,r){var i;switch(n.nodeType){case s:(i=n.cloneNode(!1)).ownerDocument=e;case m:break;case o:r=!0}if(i||(i=n.cloneNode(!1)),i.ownerDocument=e,i.parentNode=null,r)for(var a=n.firstChild;a;)i.appendChild(t(e,a,r)),a=a.nextSibling;return i}(this,t,e)},getElementById:function(t){var e=null;return C(this.documentElement,(function(n){if(n.nodeType==s&&n.getAttribute("id")==t)return e=n,!0})),e},getElementsByClassName:function(t){const e=new RegExp(`(^|\\s)${t}(\\s|$)`);return new S(this,t=>{var n=[];return C(t.documentElement,r=>{r!==t&&r.nodeType==s&&e.test(r.getAttribute("class"))&&n.push(r)}),n})},createElement:function(t){var e=new W;return e.ownerDocument=this,e.nodeName=t,e.tagName=t,e.childNodes=new E,(e.attributes=new M)._ownerElement=e,e},createDocumentFragment:function(){var t=new Q;return t.ownerDocument=this,t.childNodes=new E,t},createTextNode:function(t){var e=new k;return e.ownerDocument=this,e.appendData(t),e},createComment:function(t){var e=new j;return e.ownerDocument=this,e.appendData(t),e},createCDATASection:function(t){var e=new V;return e.ownerDocument=this,e.appendData(t),e},createProcessingInstruction:function(t,e){var n=new G;return n.ownerDocument=this,n.tagName=n.target=t,n.nodeValue=n.data=e,n},createAttribute:function(t){var e=new q;return e.ownerDocument=this,e.name=t,e.nodeName=t,e.localName=t,e.specified=!0,e},createEntityReference:function(t){var e=new X;return e.ownerDocument=this,e.nodeName=t,e},createElementNS:function(t,e){var n=new W,r=e.split(":"),i=n.attributes=new M;return n.childNodes=new E,n.ownerDocument=this,n.nodeName=e,n.tagName=e,n.namespaceURI=t,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=e,i._ownerElement=n,n},createAttributeNS:function(t,e){var n=new q,r=e.split(":");return n.ownerDocument=this,n.nodeName=e,n.name=e,n.namespaceURI=t,n.specified=!0,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=e,n}},r($,I),$.prototype.getElementsByTagName=(W.prototype={nodeType:s,hasAttribute:function(t){return null!=this.getAttributeNode(t)},getAttribute:function(t){var e=this.getAttributeNode(t);return e&&e.value||""},getAttributeNode:function(t){return this.attributes.getNamedItem(t)},setAttribute:function(t,e){var n=this.ownerDocument.createAttribute(t);n.value=n.nodeValue=""+e,this.setAttributeNode(n)},removeAttribute:function(t){var e=this.getAttributeNode(t);e&&this.removeAttributeNode(e)},appendChild:function(t){return t.nodeType===m?this.insertBefore(t,null):function(t,e){var n=e.parentNode;if(n){var r=t.lastChild;n.removeChild(e),r=t.lastChild}return r=t.lastChild,e.parentNode=t,e.previousSibling=r,e.nextSibling=null,r?r.nextSibling=e:t.firstChild=e,t.lastChild=e,R(t.ownerDocument,t,e),e}(this,t)},setAttributeNode:function(t){return this.attributes.setNamedItem(t)},setAttributeNodeNS:function(t){return this.attributes.setNamedItemNS(t)},removeAttributeNode:function(t){return this.attributes.removeNamedItem(t.nodeName)},removeAttributeNS:function(t,e){var n=this.getAttributeNodeNS(t,e);n&&this.removeAttributeNode(n)},hasAttributeNS:function(t,e){return null!=this.getAttributeNodeNS(t,e)},getAttributeNS:function(t,e){var n=this.getAttributeNodeNS(t,e);return n&&n.value||""},setAttributeNS:function(t,e,n){var r=this.ownerDocument.createAttributeNS(t,e);r.value=r.nodeValue=""+n,this.setAttributeNode(r)},getAttributeNodeNS:function(t,e){return this.attributes.getNamedItemNS(t,e)},getElementsByTagName:function(t){return new S(this,(function(e){var n=[];return C(e,(function(r){r===e||r.nodeType!=s||"*"!==t&&r.tagName!=t||n.push(r)})),n}))},getElementsByTagNameNS:function(t,e){return new S(this,(function(n){var r=[];return C(n,(function(i){i===n||i.nodeType!==s||"*"!==t&&i.namespaceURI!==t||"*"!==e&&i.localName!=e||r.push(i)})),r}))}}).getElementsByTagName,$.prototype.getElementsByTagNameNS=W.prototype.getElementsByTagNameNS,r(W,I),q.prototype.nodeType=o,r(q,I),L.prototype={data:"",substringData:function(t,e){return this.data.substring(t,t+e)},appendData:function(t){this.nodeValue=this.data=t=this.data+t,this.length=t.length},insertData:function(t,e){this.replaceData(t,0,e)},appendChild:function(t){throw new Error(b[x])},deleteData:function(t,e){this.replaceData(t,e,"")},replaceData:function(t,e,n){var r=this.data.substring(0,t),i=this.data.substring(t+e);this.nodeValue=this.data=n=r+n+i,this.length=n.length}},r(L,I),k.prototype={nodeName:"#text",nodeType:a,splitText:function(t){var e=this.data,n=e.substring(t);e=e.substring(0,t),this.data=this.nodeValue=e,this.length=e.length;var r=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(r,this.nextSibling),r}},r(k,L),j.prototype={nodeName:"#comment",nodeType:d},r(j,L),V.prototype={nodeName:"#cdata-section",nodeType:u},r(V,L),H.prototype.nodeType=p,r(H,I),Y.prototype.nodeType=y,r(Y,I),B.prototype.nodeType=h,r(B,I),X.prototype.nodeType=c,r(X,I),Q.prototype.nodeName="#document-fragment",Q.prototype.nodeType=m,r(Q,I),G.prototype.nodeType=l,r(G,I),Z.prototype.serializeToString=function(t,e,n){return J.call(t,e,n)},I.prototype.toString=J;try{Object.defineProperty&&(Object.defineProperty(S.prototype,"length",{get:function(){return D(this),this.$$length}}),Object.defineProperty(I.prototype,"textContent",{get:function(){return function t(e){switch(e.nodeType){case s:case m:var n=[];for(e=e.firstChild;e;)7!==e.nodeType&&8!==e.nodeType&&n.push(t(e)),e=e.nextSibling;return n.join("");default:return e.nodeValue}}(this)},set:function(t){switch(this.nodeType){case s:case m:for(;this.firstChild;)this.removeChild(this.firstChild);(t||String(t))&&this.appendChild(this.ownerDocument.createTextNode(t));break;default:this.data=t,this.value=t,this.nodeValue=t}}}),et=function(t,e,n){t["$$"+e]=n})}catch(nt){}e.Node=I,e.DOMImplementation=z,e.XMLSerializer=Z}});